(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[61633,77236],{740026:(e,t,n)=>{var r={"./cesium/plugins/index":[143589,9,76180,43589],"./leaflet/index":[408097,9,23596,93991,61715],"./leaflet/plugins/index":[935701,7,41263,35701,56307],"./openlayers/index":[39190,9,58493,52043,40353,47202,74738,29139,69141,10027,38920,61332,11704,72445,78471,24548,44496,93546,49005,17919],"./openlayers/plugins/index":[103498,9,58493,52043,40353,47202,74738,29139,69141,10027,76932,65604,85986,93546,3498,85886],"./popups/index":[821751,9,96259,55378,74211]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then((()=>n.t(o,16|t[1])))}o.keys=()=>Object.keys(r),o.id=740026,e.exports=o},862769:(e,t,n)=>{var r={"./cesium/plugins/index":[143589,9,76180,36882,43589,45992],"./leaflet/plugins/index":[935701,7,41263,36882,35701,34942],"./openlayers/plugins/index":[103498,9,18672,58493,52043,40353,47202,74738,29139,69141,10027,49232,76932,65604,85986,36882,13581,93546,3498,77545]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then((()=>n.t(o,16|t[1])))}o.keys=()=>Object.keys(r),o.id=862769,e.exports=o},875964:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(618446),o=n.n(r),i=n(675263),a=n.n(i),l=n(124852),p=n.n(l),c=n(757588),s=n(552259);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function b(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(l,e);var t,n,r,i,a=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(i){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(m(e=a.call.apply(a,[this].concat(n))),"onComboChange",(function(t){var n=parseInt(t.nativeEvent.target.value,10);e.props.onChange(n,e.props.scales[n])})),b(m(e),"getOptions",(function(){return e.props.scales.map((function(t,n){return p().createElement("option",{value:n,key:n},e.props.template(t,n))})).filter((function(t,n){return n>=e.props.minZoom}))})),e}return t=l,(n=[{key:"shouldComponentUpdate",value:function(e){return!o()(e,this.props)}},{key:"render",value:function(){var e;return e=this.props.readOnly?p().createElement("label",null,this.props.template(this.props.scales[this.props.currentZoomLvl],this.props.currentZoomLvl)):this.props.useRawInput?p().createElement("select",{label:this.props.label,onChange:this.onComboChange,bsSize:"small",value:this.props.currentZoomLvl||""},this.getOptions()):p().createElement(c.Form,{inline:!0},p().createElement(c.FormGroup,{bsSize:"small"},p().createElement(c.ControlLabel,null,this.props.label),p().createElement(c.FormControl,{componentClass:"select",onChange:this.onComboChange,value:this.props.currentZoomLvl||""},this.getOptions()))),p().createElement("div",{id:this.props.id,style:this.props.style},e)}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(p().Component);b(h,"propTypes",{id:a().string,style:a().object,scales:a().array,currentZoomLvl:a().number,minZoom:a().number,onChange:a().func,readOnly:a().bool,label:a().oneOfType([a().func,a().string,a().object]),template:a().func,useRawInput:a().bool}),b(h,"defaultProps",{id:"mapstore-scalebox",scales:(0,s.getGoogleMercatorScales)(0,28),currentZoomLvl:0,minZoom:0,onChange:function(){},readOnly:!1,template:function(e){return e<1?Math.round(1/e)+" : 1":"1 : "+Math.round(e)},useRawInput:!1});const v=h},807472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(727418),o=n.n(r),i=n(675263),a=n.n(i),l=n(124852),p=n.n(l),c=n(485294),s=n.n(c),u=n(472986),f=n.n(u),y=n(805346);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function w(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===m(t)?t:String(t)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(l,e);var t,n,r,i,a=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(i){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(v(e=a.call.apply(a,[this].concat(n))),"renderLoading",(function(){return e.props.maskLoading?p().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},p().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},p().createElement(y.Z,{msgId:"loading"}),p().createElement(f(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),w(v(e),"renderRole",(function(t){return p().Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),w(v(e),"hasRole",(function(t){return p().Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),w(v(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=l,(n=[{key:"render",value:function(){var e=this,t=p().createElement("div",{id:this.props.id,style:b({},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},p().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),p().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?p().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):p().createElement("span",null)),n=this.props.draggable?p().createElement(s(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,r=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?p().createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:r,className:"fade in modal "+this.props.containerClassName,role:"dialog"},n):n}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(p().Component);w(j,"propTypes",{id:a().string.isRequired,style:a().object,backgroundStyle:a().object,className:a().string,maskLoading:a().bool,containerClassName:a().string,headerClassName:a().string,bodyClassName:a().string,footerClassName:a().string,onClickOut:a().func,modal:a().bool,start:a().object,draggable:a().bool,bounds:a().oneOfType([a().string,a().object])}),w(j,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const S=j},587401:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(675263),o=n.n(r),i=n(124852),a=n.n(i),l=n(757588);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function y(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(m,e);var t,n,r,o,i=(r=m,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(o){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function m(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(u(e=i.call.apply(i,[this].concat(n))),"onChange",(function(t){e.props.onChange(t.target.value)})),e}return t=m,(n=[{key:"render",value:function(){var e=this.props.items.map((function(e){return a().createElement("option",{key:e.value,value:e.value},e.name)}));return a().createElement(l.FormGroup,null,this.props.label?a().createElement(l.ControlLabel,null,this.props.label):null,a().createElement(l.FormControl,{ref:"input",value:this.props.selected,componentClass:"select",onChange:this.onChange},e))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),m}(a().Component);y(d,"propTypes",{items:o().array,label:o().string,onChange:o().func,selected:o().string}),y(d,"defaultProps",{items:[],label:"Choice",onChange:function(){},selected:""});const b=d},496829:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(675263),o=n.n(r),i=n(124852),a=n.n(i),l=n(757588);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function y(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(m,e);var t,n,r,o,i=(r=m,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(o){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function m(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(u(e=i.call.apply(i,[this].concat(n))),"onChange",(function(){e.props.onChange(!e.refs.input.props.checked)})),y(u(e),"isEnabled",(function(){return e.props.isEnabled?e.props.isEnabled(e.props.layouts):0===e.props.layouts.length||e.props.layouts.some((function(t){return t.name.match(e.props.enableRegex)}))})),e}return t=m,(n=[{key:"render",value:function(){return a().createElement(l.Checkbox,{disabled:!this.isEnabled(),ref:"input",checked:this.props.checked,onChange:this.onChange},this.props.label)}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),m}(a().Component);y(d,"propTypes",{layouts:o().array,enableRegex:o().oneOfType([o().object,o().string]),label:o().string,onChange:o().func,checked:o().bool,isEnabled:o().func}),y(d,"defaultProps",{layouts:[],enableRegex:/^.*$/,label:"Option",onChange:function(){},checked:!1});const b=d},393172:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ee});var r=n(893379),o=n.n(r),i=n(72954);o()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var a=n(91175),l=n.n(a),p=n(984596),c=n.n(p),s=n(727418),u=n.n(s),f=n(675263),y=n.n(f),m=n(124852),d=n.n(m),b=n(757588),g=n(322843),h=n(22222),v=n(782904),O=n(986069),w=n(805346),P=n(807472),j=n(145959),S=n(650148),E=n(675110),x=n(308316),C=n(800827),R=n(93152),k=n(986267),T=n(86638),_=n(552259),L=n(624262),N=n(218721),Z=n.n(N),I=n(264721),z=n.n(I),A=["validations"],B=["style"];function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function U(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return(t=Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===F(t)?t:String(t)}var J=function(){return null};function Y(e){return e.plugin?e:H(H({},e),{},{plugin:J})}const ee={PrintPlugin:u()({loadPlugin:function(e){Promise.resolve().then(function(){var t=n(174884).default.standardItems,r=n(134049),o=r.getDefaultPrintingService,i=r.getLayoutName,a=r.getPrintScales,p=r.getNearestZoom,s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(u,e);var n,r,o,i,s=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=X(o);if(i){var n=X(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return V(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return K(V(e=s.call.apply(s,[this].concat(r))),"state",{activeAccordionPanel:0}),K(V(e),"getAlternativeBackground",(function(t,n,r){var o=l()(c()(n).map((function(e){return{type:e}})).filter((function(t){return e.isAllowed(t,r)})));return o?l()(t.filter((function(e){return e.type===o.type}))):null})),K(V(e),"getItems",(function(n){var r,o,i=e.props.items.filter((function(e){return!n||e.target===n})),a=(r=t[n],o=e.props.items,r.map((function(e){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find((function(t){return t.target===e.id}));return null!=t?t:e}(e,o)})).map(Y)).map((function(e){return H(H({},e),{},{target:n})}));return[].concat(U(a),U(i)).sort((function(e,t){var n,r;return(null!==(n=e.position)&&void 0!==n?n:0)-(null!==(r=t.position)&&void 0!==r?r:0)}))})),K(V(e),"getMapConfiguration",(function(){var t=e.props.printingService.getMapConfiguration();return H(H({},t),{},{layers:e.filterLayers(t.layers,t.zoom,t.projection)})})),K(V(e),"getMapSize",(function(t){var n=t||e.getLayout();return{width:e.props.mapWidth,height:n&&n.map.height/n.map.width*e.props.mapWidth||270}})),K(V(e),"getPreviewZoom",(function(t){if(e.props.useFixedScales){var n=a(e.props.capabilities);return p(t,n)}return t})),K(V(e),"getPreviewResolution",(function(t,n){var r=(0,_.dpi2dpu)(_.DEFAULT_SCREEN_DPI,n);return e.props.scales[e.getPreviewZoom(t)]/r})),K(V(e),"getLayout",(function(t){var n=t||e.props,r=n.getLayoutName,o=n.printSpec,i=n.capabilities,a=r(o);return l()(i.layouts.filter((function(e){return e.name===a})))})),K(V(e),"renderWarning",(function(e){return e?null:d().createElement(b.Row,null,d().createElement(b.Col,{xs:12},d().createElement("div",{className:"print-warning"},d().createElement("span",null,d().createElement(w.Z,{msgId:"print.layoutWarning"})))))})),K(V(e),"renderItem",(function(t,n){var r,o,i=n.validations,a=D(n,A),l=null!==(r=t.component)&&void 0!==r?r:t.plugin,p=e.props,c=(p.style,D(p,B));return d().createElement(l,M({role:"body"},c,t.cfg,a,{validation:null==i?void 0:i[null!==(o=t.id)&&void 0!==o?o:t.name]}))})),K(V(e),"renderItems",(function(t,n){return e.getItems(t).map((function(t){return e.renderItem(t,n)}))})),K(V(e),"renderAccordion",(function(t,n){var r=e.getItems(t);return d().createElement(b.PanelGroup,{accordion:!0,activeKey:e.state.activeAccordionPanel,onSelect:function(t){e.setState({activeAccordionPanel:t})}},r.map((function(t,r){var o,i,a;return d().createElement(b.Panel,{header:(0,T.S$)(e.context.messages,null!==(o=null!==(i=null===(a=t.cfg)||void 0===a?void 0:a.title)&&void 0!==i?i:t.title)&&void 0!==o?o:""),eventKey:r,collapsible:!0},e.renderItem(t,n))})))})),K(V(e),"renderPrintPanel",(function(){var t=e.getLayout(),n=e.getMapConfiguration(),r={layout:t,map:n,layoutName:e.props.getLayoutName(e.props.printSpec),mapSize:e.getMapSize(t),resolutions:(0,_.getResolutions)(null==n?void 0:n.projection),onRefresh:function(){return e.configurePrintMap()},notAllowedLayers:e.isBackgroundIgnored(e.props.layers,null==n?void 0:n.projection),actionConfig:e.props.submitConfig,validations:e.props.printingService.validate(),actions:{print:e.print,addParameter:e.addParameter}};return d().createElement(b.Grid,{fluid:!0,role:"body"},e.renderError(),e.renderWarning(t),d().createElement(b.Row,null,d().createElement(b.Col,{xs:12,md:6},e.renderItems("left-panel",r),e.renderAccordion("left-panel-accordion",r)),d().createElement(b.Col,{xs:12,md:6,style:{textAlign:"center"}},e.renderItems("right-panel",r),e.renderItems("buttons",r),e.renderDownload())))})),K(V(e),"renderDownload",(function(){return e.props.pdfUrl&&!e.props.usePreview?d().createElement("iframe",{src:e.props.pdfUrl,style:{visibility:"hidden",display:"none"}}):null})),K(V(e),"renderError",(function(){return e.props.error?d().createElement(b.Row,null,d().createElement(b.Col,{xs:12},d().createElement("div",{className:"print-error"},d().createElement("span",null,e.props.error)))):null})),K(V(e),"renderPreviewPanel",(function(){return e.renderItems("preview-panel",e.props.previewOptions)})),K(V(e),"renderBody",(function(){return e.props.pdfUrl&&e.props.usePreview?e.renderPreviewPanel():e.renderPrintPanel()})),K(V(e),"addParameter",(function(t,n){e.props.addPrintParameter("params."+t,n)})),K(V(e),"isCompatibleWithSRS",(function(e,t){return"EPSG:3857"===e||z()(["wms","wfs","vector","graticule","empty"],t.type)||"wmts"===t.type&&Z()(t.allowedSRS,e)})),K(V(e),"isAllowed",(function(t,n){return-1===e.props.ignoreLayers.indexOf(t.type)&&e.isCompatibleWithSRS((0,k.normalizeSRS)(n),t)})),K(V(e),"isBackgroundIgnored",(function(t,n){return!l()((t||e.props.layers).filter((function(t){return"background"===t.group&&t.visibility&&e.isAllowed(t,n)})))})),K(V(e),"filterLayers",(function(t,n,r){var o=e.getPreviewResolution(n,r),i=t.filter((function(t){return t.visibility&&(0,L.T4)(t,o)&&e.isAllowed(t,r)}));if(e.isBackgroundIgnored(t,r)&&e.props.defaultBackground&&e.props.printSpec.defaultBackground){var a=e.getAlternativeBackground(t,e.props.defaultBackground);return a?[H(H({},a),{},{visibility:!0})].concat(U(i)):i}return i})),K(V(e),"configurePrintMap",(function(t){var n=t||e.props,r=n.map,o=n.capabilities,i=n.minZoom,l=n.configurePrintMap,c=n.useFixedScales,s=n.getZoomForExtent,u=n.maxZoom,f=n.currentLocale,y=n.scales,m=n.layers;if(r&&r.bbox&&o){var d=(0,k.reprojectBbox)([r.bbox.bounds.minx,r.bbox.bounds.miny,r.bbox.bounds.maxx,r.bbox.bounds.maxy],r.bbox.crs,r.projection),b=e.getMapSize();if(c){var g=s(d,b,i,u),h=a(o),v=p(r.zoom,h),O=h[v];l(r.center,g,v,O,m,r.projection,f)}else{var w=y[r.zoom];l(r.center,r.zoom,r.zoom,w,m,r.projection,f)}}})),K(V(e),"print",(function(){var t;e.props.setPage(0),e.props.onBeforePrint(),e.props.printingService.print({layers:null===(t=e.getMapConfiguration())||void 0===t?void 0:t.layers,scales:e.props.useFixedScales?a(e.props.capabilities):void 0}).then((function(t){return e.props.onPrint(e.props.capabilities.createURL,H(H({},t),e.props.overrideOptions))})).catch((function(t){e.props.printError("Error in printing:"+t.message)}))})),e}return n=u,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.configurePrintMap()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.open&&!this.props.open,n=this.props.open&&this.props.syncMapPreview&&(0,_.mapUpdated)(this.props.map,e.map),r=e.printSpec.defaultBackground!==this.props.printSpec.defaultBackground;(t||n||r)&&this.configurePrintMap(e)}},{key:"render",value:function(){return(this.props.capabilities||this.props.error)&&this.props.open?this.props.withContainer?this.props.withPanelAsContainer?d().createElement(b.Panel,{className:"mapstore-print-panel",header:d().createElement("span",null,d().createElement("span",{className:"print-panel-title"},d().createElement(w.Z,{msgId:"print.paneltitle"})),d().createElement("span",{className:"print-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.style},this.renderBody()):d().createElement(P.Z,{id:"mapstore-print-panel",style:H({left:"17%",top:"50px",zIndex:1990},this.props.style)},d().createElement("span",{role:"header"},d().createElement("span",{className:"print-panel-title"},d().createElement(w.Z,{msgId:"print.paneltitle"})),d().createElement("button",{onClick:this.props.toggleControl,className:"print-panel-close close"},this.props.closeGlyph?d().createElement(b.Glyphicon,{glyph:this.props.closeGlyph}):d().createElement("span",null,"×"))),this.renderBody()):this.renderBody():null}}])&&$(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),u}(d().Component);K(s,"propTypes",{map:y().object,layers:y().array,capabilities:y().object,printSpec:y().object,printSpecTemplate:y().object,withContainer:y().bool,withPanelAsContainer:y().bool,open:y().bool,pdfUrl:y().string,title:y().string,style:y().object,mapWidth:y().number,mapType:y().string,alternatives:y().array,toggleControl:y().func,onBeforePrint:y().func,setPage:y().func,onPrint:y().func,printError:y().func,configurePrintMap:y().func,getLayoutName:y().func,error:y().string,getZoomForExtent:y().func,minZoom:y().number,maxZoom:y().number,usePreview:y().bool,mapPreviewOptions:y().object,syncMapPreview:y().bool,useFixedScales:y().bool,scales:y().array,ignoreLayers:y().array,defaultBackground:y().oneOfType([y().string,y().arrayOf(y().string)]),closeGlyph:y().string,submitConfig:y().object,previewOptions:y().object,currentLocale:y().string,overrideOptions:y().object,items:y().array,addPrintParameter:y().func,printingService:y().object}),K(s,"contextTypes",{messages:y().object,plugins:y().object,loadedPlugins:y().object}),K(s,"defaultProps",{withContainer:!0,withPanelAsContainer:!1,title:"print.paneltitle",toggleControl:function(){},onBeforePrint:function(){},setPage:function(){},onPrint:function(){},configurePrintMap:function(){},printSpecTemplate:{},getLayoutName:i,getZoomForExtent:_.defaultGetZoomForExtent,pdfUrl:null,mapWidth:370,mapType:"leaflet",minZoom:1,maxZoom:23,usePreview:!0,mapPreviewOptions:{enableScalebox:!1,enableRefresh:!1},syncMapPreview:!0,useFixedScales:!1,scales:[],ignoreLayers:["google","bing"],defaultBackground:["osm","wms","empty"],closeGlyph:"1-close",submitConfig:{buttonConfig:{bsSize:"small",bsStyle:"primary"},glyph:""},previewOptions:{buttonStyle:"primary"},style:{},currentLocale:"en-US",overrideOptions:{},items:[],printingService:o()});var u=(0,h.P1)([function(e){return e.controls.print&&e.controls.print.enabled||e.controls.toolbar&&"print"===e.controls.toolbar.active},function(e){return e.print&&e.print.capabilities},S.DX,function(e){return e.print&&e.print.pdfUrl},function(e){return e.print&&e.print.error},C.Od,E.l2,C.up,function(e){return e.browser&&(!e.browser.ie||e.browser.ie11)},x.Pz,R.$v],(function(e,t,n,r,o,i,a,l,p,c,s){return{open:e,capabilities:t,printSpec:n,pdfUrl:r,error:o,map:i,layers:a.filter((function(e){return!e.loadingError})),scales:l,usePreview:p,currentLocale:c,mapType:s}})),f=(0,g.$j)(u,{toggleControl:v.Xi.bind(null,"print",null),onPrint:O.gV,printError:O.OS,onBeforePrint:O.MW,setPage:v.Xg.bind(null,"print","currentPage"),configurePrintMap:O.h9,addPrintParameter:O.eT})(s);e(f)}.bind(null,n)).catch(n.oe)},enabler:function(e){return e.print&&e.print.enabled||e.toolbar&&"print"===e.toolbar.active}},{disablePluginIf:"{state('mapType') === 'cesium' || !state('printEnabled')}",Toolbar:{name:"print",position:7,help:d().createElement(w.Z,{msgId:"helptexts.print"}),tooltip:"printbutton",icon:d().createElement(b.Glyphicon,{glyph:"print"}),exclusive:!0,panel:!0,priority:1},BurgerMenu:{name:"print",position:2,tooltip:"printToolTip",text:d().createElement(w.Z,{msgId:"printbutton"}),icon:d().createElement(b.Glyphicon,{glyph:"print"}),action:v.Xi.bind(null,"print",null),priority:2,doNotHide:!0}}),reducers:{print:j.Z}}},832395:(e,t,n)=>{"use strict";n.d(t,{W:()=>d});var r=n(124852),o=n.n(r),i=n(675263),a=n.n(i),l=n(322843),p=n(86638),c=n(496829),s=n(227361),u=n.n(s);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e,t){var n=e.spec,i=e.property,a=e.label,s=e.onChangeParameter,f=e.enabled,d=void 0===f||f,b=e.actions,g=e.path,h=void 0===g?"params.":g,v=e.additionalProperty,O=void 0===v||v,w=h+i;return(0,r.useEffect)((function(){var e;O&&(null==b||b.addParameter(i,null!==(e=u()(n,w))&&void 0!==e&&e))}),[]),(0,l.CU)({},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),"{"+d+"}")?o().createElement(c.Z,{checked:!!u()(n,w),label:(0,p.S$)(t.messages,a),onChange:function(e){return s(w,e)}}):null};d.contextTypes={messages:a().object}},747812:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TextInput:()=>d,default:()=>b});var r=n(124852),o=n.n(r),i=n(675263),a=n.n(i),l=n(171703),p=n(322843),c=n(86638),s=n(986069),u=n(757588),f=n(227361),y=n.n(f);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var d=function(e,t){var n=e.spec,i=e.property,a=e.label,l=e.placeholder,p=e.actions,s=e.onChangeParameter,f=e.path,d=void 0===f?"params.":f,b=e.type,g=void 0===b?"text":b,h=e.additionalProperty,v=void 0===h||h,O=d+i;return(0,r.useEffect)((function(){var e;v&&p.addParameter(i,null!==(e=y()(n,O))&&void 0!==e?e:"")}),[]),o().createElement(u.FormGroup,null,a&&o().createElement(u.ControlLabel,null,(0,c.S$)(t.messages,a))||null,o().createElement(u.FormControl,m({},function(e){return"textarea"!==e?{type:e}:{componentClass:e}}(g),{value:y()(n,O),placeholder:l&&(0,c.S$)(t.messages,l),onChange:function(e){return s(O,e.target.value)}})))};d.contextTypes={messages:a().object};const b=(0,p.rx)("PrintTextInput",{component:(0,l.connect)((function(e){var t;return{spec:(null==e||null===(t=e.print)||void 0===t?void 0:t.spec)||{}}}),{onChangeParameter:s.d$})(d),containers:{Print:{priority:1}}})},174884:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DefaultBackgrounOption:()=>rt,Description:()=>Je,Layout:()=>Ye,LegendOptions:()=>et,MapPreview:()=>nt,Name:()=>Qe,PrintPreview:()=>it,PrintSubmit:()=>ot,Resolution:()=>tt,default:()=>lt,standardItems:()=>at});var r=n(171703),o=n(782904),i=n(986069),a=n(737275),l=n(747812),p=n(832395),c=n(124852),s=n.n(c),u=n(322843),f=n(757588),y=n(472986),m=n.n(y),d=n(805346);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){var t=e.text,n=e.actions,r=e.action,o=e.enabled,i=e.actionConfig,a=e.loading,l=e.className,p=void 0===l?"":l,c=i.glyph,y=i.buttonConfig,b=c?s().createElement(f.Glyphicon,{glyph:c}):s().createElement("span",null),O=!!(0,u.CU)({},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),"{"+o+"}");return s().createElement(f.Button,g({className:p,disabled:!O},y,{style:{marginTop:"10px",marginRight:"5px"},onClick:n[r]}),a?s().createElement(m(),{spinnerName:"circle",overrideSpinnerClassName:"spinner",noFadeIn:!0}):b," ",s().createElement(d.Z,{msgId:t}))};(0,u.rx)("Action",{component:(0,r.connect)((function(e){var t;return{spec:(null==e||null===(t=e.print)||void 0===t?void 0:t.spec)||{},loading:e.print&&e.print.isLoading||!1}}))(O),containers:{Print:{priority:1}}});var w=n(675263),P=n.n(w),j=n(86638),S=n(12838),E=n(587401),x=n(623560),C=n.n(x),R=["children","sheetRegex","layouts"];function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z(r.key),r)}}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function I(e,t,n){return(t=z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===k(t)?t:String(t)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Z(r);if(o){var n=Z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return I(N(e=i.call.apply(i,[this].concat(n))),"getLayoutName",(function(t){return e.props.layoutNames?C()(e.props.layoutNames)?e.props.layoutNames(t):e.props.layoutNames[t]||t:t})),I(N(e),"getSheetFormats",(function(){return e.props.layouts.reduce((function(t,n){var r=n.name.match(e.props.sheetRegex);return r&&r.length>0&&-1===t.indexOf(r[r.length-1])&&t.concat([r[r.length-1]])||t}),[]).map((function(t){return{name:e.getLayoutName(t),value:t}}))})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=(e.children,e.sheetRegex,e.layouts,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,R));return s().createElement(E.Z,T({},t,{items:this.getSheetFormats()}))}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s().Component);I(A,"propTypes",{layouts:P().array,sheetRegex:P().oneOfType([P().object,P().string]),label:P().string,onChange:P().func,selected:P().string,layoutNames:P().oneOfType([P().object,P().func])}),I(A,"defaultProps",{layouts:[],sheetRegex:/^[^_]+/,label:"Sheet Size",onChange:function(){},selected:""});const B=A;function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function $(e,t,n){return(t=W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===F(t)?t:String(t)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=G(r);if(o){var n=G(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(U(e=i.call.apply(i,[this].concat(n))),"onChange",(function(t){e.props.onChange(t.target.value)})),$(U(e),"renderOptions",(function(){return e.props.options.map((function(t){return s().createElement(f.Radio,{key:t.label,disabled:!e.isEnabled(),ref:"input"+t.value,checked:e.props.selected===t.value,onChange:e.onChange,value:t.value},(0,j.S$)(e.context.messages,t.label))}))})),$(U(e),"isEnabled",(function(){return e.props.isEnabled?e.props.isEnabled(e.props.layouts):0===e.props.layouts.length||e.props.layouts.some((function(t){return t.name.match(e.props.enableRegex)}))})),e}return t=a,(n=[{key:"render",value:function(){return s().createElement("span",{className:"form-inline"},this.renderOptions())}}])&&M(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s().Component);$(V,"propTypes",{layouts:P().array,enableRegex:P().oneOfType([P().object,P().string]),options:P().array,onChange:P().func,selected:P().string,isEnabled:P().func}),$(V,"contextTypes",{messages:P().object}),$(V,"defaultProps",{layouts:[],enableRegex:/^.*$/,options:[{label:"Option1",value:"Option1"},{label:"Option2",value:"Option2"}],onChange:function(){},selected:"Option1"});const X=V;var q=n(496829),H=n(650148),K=[{name:"legend",component:(0,r.connect)((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.includeLegend,layouts:(0,H.p6)(e)}}),{onChange:i.d$.bind(null,"includeLegend")})(q.Z),regex:/legend/},{name:"2pages",component:(0,r.connect)((function(e){return{checked:e.print&&e.print.spec.includeLegend&&e.print.spec&&!!e.print.spec.twoPages,layouts:(0,H.p6)(e),isEnabled:function(){return(0,H.LI)(e)}}}),{onChange:i.d$.bind(null,"twoPages")})(q.Z),regex:/2_pages/},{name:"landscape",component:(0,r.connect)((function(e){return{selected:e.print&&e.print.spec&&e.print.spec.landscape?"landscape":"portrait",layouts:(0,H.p6)(e),options:[{label:"print.alternatives.landscape",value:"landscape"},{label:"print.alternatives.portrait",value:"portrait"}]}}),{onChange:(0,S.qC)(i.d$.bind(null,"landscape"),(function(e){return"landscape"===e}))})(X),regex:/landscape/}],Q=function(e,t){var n=e.layouts,r=e.spec,o=e.onChangeParameter,i=e.alternatives;return s().createElement(s().Fragment,null,s().createElement(B,{key:"sheetsize",selected:null==r?void 0:r.sheet,onChange:function(e){return o("sheet",e)},layouts:n,label:(0,j.S$)(t.messages,"print.sheetsize")}),function(e,t){return e.map((function(e){return s().createElement(e.component,{key:"printoption_"+e.name,label:(0,j.S$)(t.messages,"print.alternatives."+e.name),enableRegex:e.regex})}))}(i||K,t))};Q.contextTypes={messages:P().object};var J=n(282467),Y=n(794192);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ae(r.key),r)}}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function ie(e,t,n){return(t=ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e){var t=function(e,t){if("object"!==ee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ee(t)?t:String(t)}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oe(r);if(o){var n=oe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return re(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ie(re(e=i.call.apply(i,[this].concat(n))),"onChangeFamily",(function(t){e.props.onChangeFamily(t)})),ie(re(e),"onChangeSize",(function(t){e.props.onChangeSize(parseInt(t,10))})),ie(re(e),"toggleBold",(function(){e.props.onChangeBold(!e.props.bold)})),ie(re(e),"toggleItalic",(function(){e.props.onChangeItalic(!e.props.italic)})),e}return t=a,(n=[{key:"render",value:function(){return s().createElement(f.Grid,{fluid:!0},s().createElement(f.Row,null,s().createElement(f.Col,{xs:12},s().createElement("label",{className:"control-label"},this.props.label))),s().createElement(f.Row,null,s().createElement(f.Col,{xs:5},s().createElement(E.Z,{ref:"family",onChange:this.onChangeFamily,label:"",items:this.props.fonts.map((function(e){return{name:e,value:e}})),selected:this.props.family})),s().createElement(f.Col,{xs:3},s().createElement(Y.Z,{ref:"size",type:"number",value:this.props.size,min:0,precision:0,onChange:this.onChangeSize})),s().createElement(f.Col,{xs:2},s().createElement(J.Z,{bsStyle:"primary",bsSize:"small",active:this.props.bold,onClick:this.toggleBold},s().createElement(f.Glyphicon,{glyph:"bold"}))),s().createElement(f.Col,{xs:2},s().createElement(J.Z,{bsStyle:"primary",bsSize:"small",active:this.props.italic,onClick:this.toggleItalic},s().createElement(f.Glyphicon,{glyph:"italic"})))))}}])&&te(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s().Component);ie(le,"propTypes",{fonts:P().array,label:P().string,onChangeFamily:P().func,onChangeSize:P().func,onChangeBold:P().func,onChangeItalic:P().func,family:P().string,size:P().number,bold:P().bool,italic:P().bool}),ie(le,"defaultProps",{fonts:["Verdana","Serif","SansSerif","Arial","Courier New","Tahoma","Times New Roman"],label:"Font",onChangeFamily:function(){},onChangeSize:function(){},family:"",size:8,bold:!1,italic:!1});const pe=le;var ce=function(e,t){var n=e.spec,r=e.onChangeParameter,o=e.actions;return s().createElement(s().Fragment,null,s().createElement(pe,{family:null==n?void 0:n.fontFamily,size:null==n?void 0:n.fontSize,bold:null==n?void 0:n.bold,italic:null==n?void 0:n.italic,onChangeFamily:function(e){return r("fontFamily",e)},onChangeSize:function(e){return r("fontSize",e)},onChangeBold:function(e){return r("bold",e)},onChangeItalic:function(e){return r("italic",e)},label:(0,j.S$)(t.messages,"print.legend.font")}),s().createElement(q.Z,{label:(0,j.S$)(t.messages,"print.legend.forceLabels"),checked:!(null==n||!n.forceLabels),onChange:function(e){return r("forceLabels",e)}}),s().createElement(q.Z,{label:(0,j.S$)(t.messages,"print.legend.antiAliasing"),checked:!(null==n||!n.antiAliasing),onChange:function(e){return r("antiAliasing",e)}}),s().createElement(l.TextInput,{label:(0,j.S$)(t.messages,"print.legend.iconsSize"),spec:n,type:"number",additionalProperty:!1,property:"iconSize",path:"",onChangeParameter:r,actions:o}),s().createElement(l.TextInput,{label:(0,j.S$)(t.messages,"print.legend.dpi"),spec:n,type:"number",additionalProperty:!1,property:"legendDpi",path:"",onChangeParameter:r,actions:o}))};ce.contextTypes={messages:P().object};var se=function(e,t){var n=e.items,r=e.spec,o=e.onChangeParameter;return s().createElement(s().Fragment,null,s().createElement(E.Z,{selected:null==r?void 0:r.resolution,onChange:function(e){return o("resolution",e)},items:n,label:(0,j.S$)(t.messages,"print.resolution")}))};se.contextTypes={messages:P().object};var ue,fe,ye,me=n(727418),de=n.n(me),be=n(134049),ge=n(875964),he=n(414293),ve=n.n(he);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Te(r.key),r)}}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xe(e,t)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(e)}function ke(e,t,n){return(t=Te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e){var t=function(e,t){if("object"!==Oe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Oe(t)?t:String(t)}var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(l,e);var t,r,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Re(o);if(i){var n=Re(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ke(Ce(e=a.call.apply(a,[this].concat(n))),"state",{mapTypeLoaded:!1}),ke(Ce(e),"getRatio",(function(){return e.props.width&&e.props.layoutSize&&e.props.resolutions?(0,be.getResolutionMultiplier)(e.props.layoutSize.width,e.props.width,e.props.printRatio):1})),ke(Ce(e),"getResolutions",(function(){return e.props.width&&e.props.layoutSize&&e.props.resolutions?e.props.resolutions.map((function(t){return t*e.getRatio()})):e.props.resolutions})),ke(Ce(e),"renderLayerContent",(function(e,t){return e.features&&"vector"===e.type?e.features.map((function(n){return s().createElement(ye,{crs:t,key:n.id,type:n.type,geometry:n.geometry,features:n.features,msId:n.id,featuresCrs:e.featuresCrs||"EPSG:4326",layerStyle:e.style,style:n.style||e.style||null,properties:n.properties})})):null})),ke(Ce(e),"adjustResolution",(function(t){var n=e.getRatio(),r=Math.round(96/n);return de()({},t,Se(Se(Se({},!ve()(null==t?void 0:t.minResolution)&&{minResolution:t.minResolution*n}),!ve()(null==t?void 0:t.maxResolution)&&{maxResolution:t.maxResolution*n}),{},{params:de()({},t.params,{format_options:"dpi:"+r,"MAP.RESOLUTION":r})}))})),e}return t=l,(r=[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this._isMounted=!0,this.props.onLoadingMapPlugins(!0),Promise.all([n(740026)("./"+this.props.mapType+"/index"),n(862769)("./"+this.props.mapType+"/plugins/index")]).then((function(t){var n,r,o=(n=t,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],p=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;p=!1}else for(;!(p=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);p=!0);}catch(e){c=!0,o=e}finally{try{if(!p&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];if(e._isMounted){var i=o.default;ue=i.LMap,fe=i.LLayer,ye=i.Feature,e.setState({mapTypeLoaded:!0}),e.props.onLoadingMapPlugins(!1,e.props.mapType)}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;if(!this.state.mapTypeLoaded)return null;var t=de()({},this.props.style,{width:this.props.width+"px",height:this.props.height+"px"}),n=this.getResolutions(),r=n?{view:{resolutions:n}}:{},o=this.props.map&&this.props.map.projection||"EPSG:3857";return this.props.map&&this.props.map.center?s().createElement("div",{className:"print-map-preview"},s().createElement(ue,we({ref:"mappa"},this.props.map,{resize:this.props.height,style:t,interactive:!1,onMapViewChanges:this.props.onMapViewChanges,zoomControl:!1,zoom:this.props.useFixedScales&&this.props.scales?(0,be.getMapZoom)(this.props.map.scaleZoom,this.props.scales):this.props.map.zoom,center:this.props.map.center,id:"print_preview",registerHooks:!1,mapOptions:r}),this.props.layers.map((function(t,n){return s().createElement(fe,{key:t.id||t.name,position:n,type:t.type,srs:o,options:de()({},e.adjustResolution(t),{srs:o}),env:e.props.env},e.renderLayerContent(t,o))}))),this.props.enableScalebox?s().createElement(ge.Z,{id:"mappreview-scalebox",currentZoomLvl:this.props.map.scaleZoom,scales:this.props.scales,onChange:this.props.onChangeZoomLevel}):null,this.props.enableRefresh?s().createElement(J.Z,{bsStyle:"primary",onClick:this.props.onMapRefresh,className:"print-mappreview-refresh"},s().createElement(f.Glyphicon,{glyph:"refresh"})):null):null}}])&&Ee(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(s().Component);ke(_e,"propTypes",{map:P().object,layers:P().array,style:P().object,scales:P().array,onChangeZoomLevel:P().func,onMapViewChanges:P().func,onMapRefresh:P().func,height:P().number,width:P().number,mapType:P().string,enableRefresh:P().bool,enableScalebox:P().bool,resolutions:P().array,printRatio:P().number,layout:P().string,layoutSize:P().object,useFixedScales:P().bool,env:P().object,onLoadingMapPlugins:P().func}),ke(_e,"defaultProps",{map:null,layers:[],mapType:"leaflet",style:{display:"block",border:"1px solid black",position:"relative"},onChangeZoomLevel:function(){},onMapViewChanges:function(){},onMapRefresh:function(){},width:370,height:270,enableRefresh:!0,enableScalebox:!0,useFixedScales:!1,onLoadingMapPlugins:function(){}});const Le=_e;var Ne=["mapSize","layout","layoutName","resolutions","useFixedScales","localizedLayerStylesEnv","mapPreviewOptions","mapType","map","capabilities","onRefresh","validation"];function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ze.apply(this,arguments)}var Ie=function(e){var t,n=e.mapSize,r=e.layout,o=e.layoutName,i=e.resolutions,a=e.useFixedScales,l=e.localizedLayerStylesEnv,p=e.mapPreviewOptions,c=e.mapType,u=e.map,f=e.capabilities,y=e.onRefresh,m=e.validation,b=void 0===m?{valid:!0}:m,g=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ne),h=f.scales.slice(0).reverse().map((function(e){return parseFloat(e.value)}))||[];return b.valid?s().createElement(Le,Ze({},g,{map:u,layers:null!==(t=null==u?void 0:u.layers)&&void 0!==t?t:[],scales:h,width:n.width,height:n.height,mapType:c,onMapRefresh:y,layout:o,layoutSize:r&&r.map||{width:10,height:10},resolutions:i,useFixedScales:a,env:l},p)):s().createElement("div",{id:"map-preview-disabled-message"},s().createElement(d.Z,{msgId:"print.disabledpreview"}))};Ie.contextTypes={messages:P().object};var ze=n(466756);function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ge(r.key),r)}}function Fe(e,t){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fe(e,t)}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Ue(e,t,n){return(t=Ge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e){var t=function(e,t){if("object"!==Ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ae(t)?t:String(t)}var $e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fe(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=De(r);if(o){var n=De(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Me(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ue(Me(e=i.call.apply(i,[this].concat(n))),"onDocumentComplete",(function(t){e.props.setPages(t&&t.numPages||0)})),Ue(Me(e),"firstPage",(function(){e.props.currentPage>0&&e.props.setPage(0)})),Ue(Me(e),"lastPage",(function(){e.props.currentPage<e.props.pages-1&&e.props.setPage(e.props.pages-1)})),Ue(Me(e),"prevPage",(function(){e.props.currentPage>0&&e.props.setPage(e.props.currentPage-1)})),Ue(Me(e),"nextPage",(function(){e.props.currentPage<e.props.pages-1&&e.props.setPage(e.props.currentPage+1)})),Ue(Me(e),"zoomIn",(function(){e.props.setScale(e.props.scale*e.props.zoomFactor)})),Ue(Me(e),"zoomOut",(function(){e.props.setScale(e.props.scale/e.props.zoomFactor)})),e}return t=a,(n=[{key:"render",value:function(){return s().createElement("div",{id:"mapstore-print-preview-panel"},s().createElement("div",{style:this.props.style},s().createElement(ze.BB,{file:this.props.url,onLoadSuccess:this.onDocumentComplete},s().createElement(ze.T3,{pageNumber:this.props.currentPage+1,scale:this.props.scale}))),s().createElement("div",{style:{marginTop:"10px"}},s().createElement(J.Z,{bsStyle:this.props.buttonStyle,style:{marginRight:"10px"},onClick:this.props.back},s().createElement(f.Glyphicon,{glyph:"arrow-left"})),s().createElement(J.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.scale>=this.props.maxScale,onClick:this.zoomIn},s().createElement(f.Glyphicon,{glyph:"zoom-in"})),s().createElement(J.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.scale<=this.props.minScale,onClick:this.zoomOut},s().createElement(f.Glyphicon,{glyph:"zoom-out"})),s().createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},this.props.scale,"x"),s().createElement("div",{className:"print-download btn btn-"+this.props.buttonStyle},s().createElement("a",{href:this.props.downloadUrl,target:"_blank"},s().createElement(f.Glyphicon,{glyph:"save"}))),s().createElement(J.Z,{bsStyle:this.props.buttonStyle,disabled:0===this.props.currentPage,onClick:this.firstPage},s().createElement(f.Glyphicon,{glyph:"step-backward"})),s().createElement(J.Z,{bsStyle:this.props.buttonStyle,disabled:0===this.props.currentPage,onClick:this.prevPage},s().createElement(f.Glyphicon,{glyph:"chevron-left"})),s().createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},this.props.currentPage+1," / ",this.props.pages),s().createElement(J.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.currentPage===this.props.pages-1,onClick:this.nextPage},s().createElement(f.Glyphicon,{glyph:"chevron-right"})),s().createElement(J.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.currentPage===this.props.pages-1,onClick:this.lastPage},s().createElement(f.Glyphicon,{glyph:"step-forward"}))))}}])&&Be(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s().Component);Ue($e,"propTypes",{url:P().string,downloadUrl:P().string,scale:P().number,currentPage:P().number,pages:P().number,zoomFactor:P().number,minScale:P().number,maxScale:P().number,back:P().func,setScale:P().func,setPage:P().func,setPages:P().func,style:P().object,buttonStyle:P().string}),Ue($e,"defaultProps",{url:null,downloadUrl:null,scale:1,minScale:.25,maxScale:8,currentPage:0,pages:1,zoomFactor:2,back:function(){},setScale:function(){},setPage:function(){},setPages:function(){},style:{height:"500px",width:"800px",overflow:"auto",backgroundColor:"#888",padding:"10px"},buttonStyle:"default"});const We=$e;var Ve=["outputFormat"];function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var He=["png","jpg","bmp","gif","jpeg"],Ke=function(e){var t,n,r=e.downloadUrl,o=e.format,i=e.buttonStyle,a=e.back,l=e.maxPreviewZoom,p=void 0===l?5:l,u=e.supportedFormats,y=void 0===u?He:u,m=(t=(0,c.useState)(1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],p=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;p=!1}else for(;!(p=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);p=!0);}catch(e){c=!0,o=e}finally{try{if(!p&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=m[0],g=m[1],h=-1!==y.indexOf(o);return s().createElement("div",{id:"mapstore-image-print-preview-panel"},h?s().createElement("div",{className:"mapstore-print-preview-img-wrapper"},s().createElement("img",{src:r,style:{transform:"scale(".concat(b,")"),transformOrigin:"top left"}})):s().createElement(d.Z,{msgId:"print.previewFormatUnsupported"}),s().createElement("div",{style:{marginTop:"10px"}},s().createElement(f.Button,{bsStyle:i,style:{marginRight:"10px"},onClick:a},s().createElement(f.Glyphicon,{glyph:"arrow-left"})),s().createElement(f.Button,{bsStyle:i,disabled:!h||b>=p,onClick:function(){g((function(e){return e+1}))}},s().createElement(f.Glyphicon,{glyph:"zoom-in"})),s().createElement(f.Button,{bsStyle:i,disabled:!h||b<=1,onClick:function(){g((function(e){return e-1}))}},s().createElement(f.Glyphicon,{glyph:"zoom-out"})),s().createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},b,"x"),s().createElement("div",{className:"print-download btn btn-"+i},s().createElement("a",{href:r,target:"_blank"},s().createElement(f.Glyphicon,{glyph:"save"})))))},Qe=(0,r.connect)((function(e){var t;return{spec:(null===(t=e.print)||void 0===t?void 0:t.spec)||{},additionalProperty:!1,property:"name",path:"",type:"text",label:"print.title",placeholder:"print.titleplaceholder"}}),{onChangeParameter:i.d$})(l.TextInput),Je=(0,r.connect)((function(e){var t;return{spec:(null===(t=e.print)||void 0===t?void 0:t.spec)||{},additionalProperty:!1,property:"description",path:"",type:"textarea",label:"print.description",placeholder:"print.descriptionplaceholder"}}),{onChangeParameter:i.d$})(l.TextInput),Ye=(0,r.connect)((function(e){var t,n,r;return{spec:(null===(t=e.print)||void 0===t?void 0:t.spec)||{},layouts:(null==e||null===(n=e.print)||void 0===n||null===(r=n.capabilities)||void 0===r?void 0:r.layouts)||[]}}),{onChangeParameter:i.d$})(Q),et=(0,r.connect)((function(e){var t;return{spec:(null===(t=e.print)||void 0===t?void 0:t.spec)||{}}}),{onChangeParameter:i.d$})(ce),tt=(0,r.connect)((function(e){var t,n,r,o,i;return{spec:(null===(t=e.print)||void 0===t?void 0:t.spec)||{},items:null!==(n=null==e||null===(r=e.print)||void 0===r||null===(o=r.capabilities)||void 0===o||null===(i=o.dpis)||void 0===i?void 0:i.map((function(e){return{name:e.name+" dpi",value:e.value}})))&&void 0!==n?n:[]}}),{onChangeParameter:i.d$})(se),nt=(0,r.connect)((function(e){var t,n;return{capabilities:null!==(t=null===(n=e.print)||void 0===n?void 0:n.capabilities)&&void 0!==t?t:{}}}),{onChangeZoomLevel:i.pQ,onMapViewChanges:i.z})(Ie),rt=(0,r.connect)((function(e){var t;return{spec:(null==e||null===(t=e.print)||void 0===t?void 0:t.spec)||{},enabled:"context.notAllowedLayers",path:"",property:"defaultBackground",additionalProperty:!1,label:"print.defaultBackground"}}),{onChangeParameter:i.d$})(p.W),ot=(0,r.connect)((function(e){var t;return{spec:(null==e||null===(t=e.print)||void 0===t?void 0:t.spec)||{},loading:e.print&&e.print.isLoading||!1,text:"print.submit",action:"print",enabled:"context.layout",className:"print-submit"}}))(O),it=(0,r.connect)((function(e){var t,n;return{url:e.print&&a.ZP.getProxiedUrl(e.print.pdfUrl),downloadUrl:e.print&&e.print.pdfUrl,scale:e.controls&&e.controls.print&&e.controls.print.viewScale||.5,currentPage:e.controls&&e.controls.print&&e.controls.print.currentPage||0,pages:e.controls&&e.controls.print&&e.controls.print.pages||1,outputFormat:(null===(t=e.print)||void 0===t||null===(n=t.spec)||void 0===n?void 0:n.outputFormat)||"pdf"}}),{back:i._4,setPage:o.Xg.bind(null,"print","currentPage"),setPages:o.Xg.bind(null,"print","pages"),setScale:o.Xg.bind(null,"print","viewScale")})((function(e){var t=e.outputFormat,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ve);return"pdf"===t?s().createElement(We,n):s().createElement(Ke,Xe({format:t},n))})),at={"left-panel":[{id:"name",plugin:Qe,cfg:{},position:1},{id:"description",plugin:Je,cfg:{},position:2}],"left-panel-accordion":[{id:"layout",plugin:Ye,cfg:{title:"print.layout"},position:1},{id:"legend-options",plugin:et,cfg:{title:"print.legendoptions"},position:2}],"right-panel":[{id:"resolution",plugin:tt,cfg:{},position:1},{id:"map-preview",plugin:nt,cfg:{},position:2},{id:"default-background-ignore",plugin:rt,cfg:{},position:3}],buttons:[{id:"submit",plugin:ot,cfg:{},position:1}],"preview-panel":[{id:"printpreview",plugin:it,cfg:{},position:1}]};const lt={standardItems:at}},72954:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(923645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".msgapi #mappreview-scalebox {\n    position: relative;\n    top: -36px;\n    width: 150px;\n    left: 10px;\n}\n\n.msgapi .print-error {\n    height: 100px;\n    color: #600;\n    background-color: #E8BABA;\n    border: solid #600 1px;\n    border-radius: 10px;\n    padding: 10px;\n}\n.msgapi .print-error span, .msgapi .print-warning span {\n    display: inline-block;\n    max-height: 80px;\n    overflow: auto;\n    width: 100%;\n}\n.msgapi .print-warning {\n    height: 50px;\n    color: #660;\n    background-color: #E6E8BA;\n    border: solid #660 1px;\n    border-radius: 10px;\n    padding: 10px;\n}\n.msgapi .print-preview-panel .spinner {\n    display: inline-block;\n}\n\n.msgapi .print-mappreview-refresh {\n    position: relative;\n    top: -83px;\n    right: -155px;\n    z-index: 1000;\n}\n.msgapi #mapstore-print-panel.modal-dialog {\n    z-index: 2000;\n}\n\n.msgapi #mapstore-print-panel .modal-body {\n    max-height: calc(100vh - 190px);\n    overflow-y: auto;\n}\n\n.msgapi .mapstore-print-panel {\n    width: 850px;\n    position: absolute;\n    top: 50px;\n    right: 60px;\n    zIndex: 100;\n}\n\n.msgapi .mapstore-print-preview-img-wrapper {\n    position: relative;\n    top: 0;\n    height: 500px;\n    width: 100%;\n    overflow: auto;\n}\n\n.msgapi .mapstore-print-preview-img-wrapper img {\n    max-width: 100%;\n    max-height: 100%;\n}\n\n.msgapi .mapstore-print-panel .form-inline label {\n    margin-right: 20px;\n}\n\n.msgapi .mapstore-print-panel .print-download {\n    margin-right: 10px;\n    display: inline-block;\n    width: 30px;\n    height: 34px;\n    border: solid 1px #CCC;\n    padding: 7px;\n    border-radius: 4px;\n    padding-right: 25px;\n    padding-left: 11px;\n    top: 2px;\n    position: relative;\n}\n\n.msgapi .print-layout .panel-title {\n    padding-left: 10px;\n}\n\n.msgapi .print-layout .panel-title a{\n    text-decoration: none;\n}\n\n.msgapi .print-layout .panel-title a:hover{\n    color: #d6d6d6;\n}\n\n.msgapi .print-legend-options .panel-title {\n    padding-left: 10px;\n}\n\n.msgapi .print-legend-options .panel-title a{\n    text-decoration: none;\n}\n\n.msgapi .print-legend-options .panel-title a:hover{\n    color: #d6d6d6;\n}\n\n\n@media (min-width: 992px) {\n    .msgapi #mapstore-print-panel {\n        width: 825px;\n    }\n}\n\n@media (max-width: 991px) {\n    .msgapi #mapstore-print-panel {\n        width: 700px;\n    }\n}\n\n@media (max-width: 767px) {\n    .msgapi #mapstore-print-panel {\n        width: 98%;\n    }\n}\n\n.msgapi #mapstore-print-panel .modal-body .print-mappreview-refresh {\n    top: -96px;\n}\n\n.msgapi #mapstore-print-panel .print-submit {\n    float: right;\n}\n\n@media (min-width: 768px) {\n    .msgapi #mapstore-print-panel input[type=radio] {\n        margin: 0 8px 0 20px;\n    }\n}\n\n.msgapi #mapstore-print-panel .print-map-preview {\n    margin-bottom: 15px;\n}\n\n.msgapi #mapstore-print-panel .panel-default {\n    border: none;\n}\n\n.msgapi #mapstore-print-panel .panel-heading .panel-title {\n    font-weight: bold;\n}\n\n.msgapi #mapstore-print-panel .panel-heading {\n    padding-left: 0;\n    background-color: transparent;\n}\n\n.msgapi #mapstore-print-panel .panel-body {\n    padding: 10px;\n}\n\n.msgapi #mapstore-print-panel .form-control {\n    padding: 0 10px;\n    height: 25px;\n}\n\n.msgapi #mapstore-print-panel .print-download {\n    margin-right: 10px;\n}\n\n.msgapi #mapstore-print-panel .print-legend-options .container-fluid {\n    padding-left: 0;\n    padding-right: 0;\n}\n",""]);const i=o},212993:()=>{},558618:()=>{},200120:()=>{},945804:()=>{}}]);