(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[96336],{41156:(e,t,r)=>{"use strict";r.d(t,{fy:()=>n,gd:()=>o,zZ:()=>i,ZR:()=>a});var n="BOX_END",o="CHANGE_BOX_SELECTION_STATUS";function i(e){return{type:n,boxEndInfo:e}}function a(e){return{type:o,status:e}}},604206:(e,t,r)=>{"use strict";r.d(t,{hZ:()=>n,pb:()=>o,kD:()=>i,DI:()=>a,IC:()=>u,iU:()=>l,W7:()=>c,uB:()=>s,Rh:()=>f,G_:()=>p,vU:()=>d,Vw:()=>y,KD:()=>m,uj:()=>g,lo:()=>b,Yf:()=>v,fo:()=>h,PY:()=>E,bp:()=>O,oJ:()=>S,k4:()=>w,sc:()=>T,Li:()=>P});var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",a="DRAW:GEOMETRY_CHANGED",u="DRAW:DRAW_SUPPORT_STOPPED",l="DRAW:FEATURES_SELECTED",c="DRAW:DRAWING_FEATURES",s="DRAW:SET_SNAPPING_LAYER",f="DRAW:SNAPPING_IS_LOADING",p="DRAW:TOGGLE_SNAPPING",d="DRAW:SET_SNAPPING_CONFIG";function y(e,t,r,n,o){return{type:a,features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}function m(){return{type:l,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function g(){return{type:c,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function b(){return{type:u}}function v(e,t,r,o,i,a){return{type:n,status:e,method:t,owner:r,features:o,options:i,style:a}}function h(e,t){return{type:o,geometry:e,owner:t}}function E(e){return{type:i,currentStyle:e}}var O=function(e){return v("clean","",e,[],{})};function S(){return{type:p}}function w(e){return{type:s,snappingLayer:e}}function T(){return{type:f}}function P(e,t,r){return{type:d,value:e,prop:t,pluginCfg:r}}},433528:(e,t,r)=>{"use strict";r.d(t,{gJ:()=>n,Oj:()=>o,jp:()=>i,CM:()=>a,DU:()=>u,aO:()=>l,v6:()=>c,K8:()=>s,IN:()=>f,zh:()=>p,AH:()=>d,Ub:()=>y,_9:()=>m,JB:()=>g,oh:()=>b,AY:()=>v,yi:()=>h,SW:()=>E,Hk:()=>O,iQ:()=>S,dY:()=>w,$:()=>T,_u:()=>P,gG:()=>C,DI:()=>F,dZ:()=>I,qw:()=>j,f$:()=>A,bZ:()=>R,$O:()=>D,sF:()=>_,Gk:()=>G,vO:()=>k,ut:()=>M,MK:()=>N,VV:()=>x,B8:()=>L,VM:()=>U,a3:()=>B,Xp:()=>Y,DA:()=>Z,sK:()=>z,yA:()=>V,r:()=>H,iB:()=>W,WB:()=>Q,EH:()=>K,Yd:()=>$,Hg:()=>X,Lz:()=>q,ye:()=>J,Jb:()=>ee,d:()=>te,fT:()=>re,Ib:()=>ne,Pl:()=>oe,UB:()=>ie,Uh:()=>ae,QT:()=>ue,oL:()=>le,Ap:()=>ce,KD:()=>se,Z_:()=>fe,Vw:()=>pe,sY:()=>de,kA:()=>ye,gr:()=>me,pX:()=>ge,F5:()=>be,MO:()=>ve,dq:()=>he,DY:()=>Ee,oO:()=>Oe,uF:()=>Se,a8:()=>we,Pv:()=>Te,an:()=>Pe,lg:()=>Ce,nY:()=>Fe,nG:()=>Ie,lx:()=>je,$S:()=>Ae,gc:()=>Re,Uz:()=>De,fO:()=>_e,$E:()=>Ge,cE:()=>ke,JK:()=>Me,YV:()=>Ne,t9:()=>xe,YG:()=>Le,HT:()=>Ue,MY:()=>Be,ve:()=>Ye,hB:()=>Ze,Ox:()=>ze,zd:()=>Ve,aT:()=>He,VH:()=>We,Yb:()=>Qe,Jr:()=>Ke,pP:()=>$e,gL:()=>Xe});var n="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",a="FEATUREGRID:CLEAR_SELECTION",u="FEATUREGRID:SET_SELECTION_OPTIONS",l="FEATUREGRID:TOGGLE_MODE",c="FEATUREGRID:TOGGLE_FEATURES_SELECTION",s="FEATUREGRID:FEATURES_MODIFIED",f="FEATUREGRID:NEW_FEATURE",p="FEATUREGRID:SAVE_CHANGES",d="FEATUREGRID:SAVING",y="FEATUREGRID:START_EDITING_FEATURE",m="FEATUREGRID:START_DRAWING_FEATURE",g="FEATUREGRID:DELETE_GEOMETRY",b="FEATUREGRID:DELETE_GEOMETRY_FEATURE",v="FEATUREGRID:SAVE_SUCCESS",h="FEATUREGRID:CLEAR_CHANGES",E="FEATUREGRID:SAVE_ERROR",O="FEATUREGRID:DELETE_SELECTED_FEATURES",S="SET_FEATURES",w="FEATUREGRID:SORT_BY",T="FEATUREGRID:SET_LAYER",P="QUERY:UPDATE_FILTER",C="FEATUREGRID:CHANGE_PAGE",F="FEATUREGRID:GEOMETRY_CHANGED",I="DOCK_SIZE_FEATURES",j="FEATUREGRID:TOGGLE_TOOL",A="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",R="ASK_CLOSE_FEATURE_GRID_CONFIRM",D="FEATUREGRID:OPEN_GRID",_="FEATUREGRID:CLOSE_GRID",G="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",k="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",M="FEATUREGRID:SET_PERMISSION",N="FEATUREGRID:DISABLE_TOOLBAR",x="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",L="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",U="FEATUREGRID:ADVANCED_SEARCH",B="FEATUREGRID:ZOOM_ALL",Y="FEATUREGRID:INIT_PLUGIN",Z="FEATUREGRID:SIZE_CHANGE",z="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",V="FEATUREGRID:HIDE_SYNC_POPOVER",H="FEATUREGRID:UPDATE_EDITORS_OPTIONS",W="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",Q="FEATUREGRID:SET_SYNC_TOOL",K={EDIT:"EDIT",VIEW:"VIEW"},$="FEATUREGRID:START_SYNC_WMS",X="FEATUREGRID:STOP_SYNC_WMS",q="STORE_ADVANCED_SEARCH_FILTER",J="LOAD_MORE_FEATURES",ee="FEATUREGRID:QUERY_RESULT",te="FEATUREGRID:SET_TIME_SYNC",re="FEATUREGRID:SET_PAGINATION";function ne(){return{type:z}}function oe(){return{type:V}}function ie(e,t){return{type:ee,features:e,pages:t}}function ae(e){return{type:q,filterObj:e}}function ue(){return{type:Y,options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}function le(){return{type:G}}function ce(){return{type:k}}function se(e,t){return{type:o,features:e,append:t}}function fe(e){return{type:n,options:e}}function pe(e){return{type:F,features:e}}function de(){return{type:y}}function ye(){return{type:m}}function me(e){return{type:i,features:e}}function ge(){return{type:g}}function be(e){return{type:b,features:e}}function ve(){return{type:a}}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,r=e.showCheckbox;return{type:u,multiselect:t,showCheckbox:r}}function Ee(e,t){return{type:w,sortBy:e,sortOrder:t}}function Oe(e,t){return{type:C,page:e,size:t}}function Se(e){return{type:T,id:e}}function we(e){return{type:P,update:e,append:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}function Te(e,t){return{type:j,tool:e,value:t}}function Pe(e,t,r){return{type:A,name:e,key:t,value:r}}function Ce(){return{type:l,mode:K.EDIT}}function Fe(){return{type:l,mode:K.VIEW}}function Ie(e,t){return{type:s,features:e,updated:t}}function je(e){return{type:f,features:e}}function Ae(){return{type:p}}function Re(){return{type:v}}function De(){return{type:O}}function _e(){return{type:d}}function Ge(){return{type:h}}function ke(){return{type:E}}function Me(){return{type:R}}function Ne(){return{type:_}}function xe(){return{type:D}}function Le(e){return{type:N,disabled:e}}function Ue(e){return{type:M,permission:e}}function Be(){return{type:U}}function Ye(){return{type:B}}function Ze(){return{type:$}}function ze(e,t){return{type:Z,size:e,dockProps:t}}var Ve=function(e){return{type:J,pages:e}},He=function(e){return{type:x,activated:e}},We=function(e){return{type:L,deactivated:e}},Qe=function(e){return{type:te,value:e}},Ke=function(e){return{type:re,size:e}},$e=function(e){return{type:W,updateFilterAction:e}},Xe=function(e){return{type:Q,syncWmsFilter:e}}},129386:(e,t,r)=>{"use strict";r.d(t,{F2:()=>n,fu:()=>o,NF:()=>i,WP:()=>a,_E:()=>u});var n="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function a(e){return{type:i,featuresPath:e}}function u(e,t){return{type:o,features:e,status:t}}},807878:(e,t,r)=>{"use strict";r.d(t,{E6:()=>a,vo:()=>u,l1:()=>l,J9:()=>c,U:()=>s,z8:()=>f,ql:()=>p,O_:()=>d,M$:()=>y,Ug:()=>m,p5:()=>g,Fz:()=>b,WZ:()=>v,bP:()=>h,On:()=>E,d_:()=>O,xM:()=>S,bl:()=>w,Wi:()=>T,PN:()=>P,_M:()=>C,Wm:()=>F,Eg:()=>I,V1:()=>j,cY:()=>A,RD:()=>R,Hl:()=>D,co:()=>_,uY:()=>G,H8:()=>k,je:()=>M,go:()=>N,_8:()=>x,xd:()=>L,o7:()=>U,Nr:()=>B,Gf:()=>Y,nh:()=>Z,Rf:()=>z,Xp:()=>V,D6:()=>H,Sm:()=>W,Ef:()=>Q,jW:()=>K,kQ:()=>$,JG:()=>X,js:()=>q,q$:()=>J,OZ:()=>ee,Nc:()=>te,NV:()=>re,I5:()=>ne,QL:()=>oe,I:()=>ie,ku:()=>ae,EU:()=>ue,IV:()=>le,HT:()=>ce,lg:()=>se,ds:()=>fe,VF:()=>pe,DD:()=>de,uo:()=>ye,Ry:()=>me,ZH:()=>ge,AQ:()=>be,yC:()=>ve,F:()=>he,mc:()=>Ee,uM:()=>Se,eJ:()=>we,uP:()=>Te,N5:()=>Pe,bn:()=>Ce,Bm:()=>Fe,F2:()=>Ie,jR:()=>je,$J:()=>Ae,ln:()=>Re});var n=r(375875),o=r.n(n);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a="ADD_FILTER_FIELD",u="REMOVE_FILTER_FIELD",l="UPDATE_FILTER_FIELD",c="UPDATE_EXCEPTION_FIELD",s="ADD_GROUP_FIELD",f="UPDATE_LOGIC_COMBO",p="REMOVE_GROUP_FIELD",d="CHANGE_CASCADING_VALUE",y="EXPAND_ATTRIBUTE_PANEL",m="EXPAND_SPATIAL_PANEL",g="QUERYFORM:EXPAND_CROSS_LAYER",b="QUERYFORM:SET_CROSS_LAYER_PARAMETER",v="QUERYFORM:RESET_CROSS_LAYER_FILTER",h="SELECT_SPATIAL_METHOD",E="SELECT_VIEWPORT_SPATIAL_METHOD",O="UPDATE_GEOMETRY",S="SELECT_SPATIAL_OPERATION",w="CHANGE_SPATIAL_ATTRIBUTE",T="CHANGE_SPATIAL_FILTER_VALUE",P="REMOVE_SPATIAL_SELECT",C="SHOW_SPATIAL_DETAILS",F="QUERY_FORM_SEARCH",I="QUERY_FORM_RESET",j="SHOW_GENERATED_FILTER",A="CHANGE_DWITHIN_VALUE",R="ZONE_SEARCH",D="ZONE_SEARCH_ERROR",_="ZONE_FILTER",G="ZONE_CHANGE",k="ZONES_RESET",M="SIMPLE_FILTER_FIELD_UPDATE",N="ADD_SIMPLE_FILTER_FIELD",x="REMOVE_SIMPLE_FILTER_FIELD",L="REMOVE_ALL_SIMPLE_FILTER_FIELDS",U="UPDATE_FILTER_FIELD_OPTIONS",B="LOADING_FILTER_FIELD_OPTIONS",Y="QUERYFORM:ADD_CROSS_LAYER_FILTER_FIELD",Z="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD",z="QUERYFORM:REMOVE_CROSS_LAYER_FILTER_FIELD",V="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD_OPTIONS",H="SET_AUTOCOMPLETE_MODE",W="TOGGLE_AUTOCOMPLETE_MENU",Q="QUERYFORM:LOAD_FILTER";function K(e){return{type:a,groupId:e}}function $(e,t){return{type:s,groupId:e,index:t}}function X(e){return{type:u,rowId:e}}function q(e,t){return{type:W,rowId:e,status:t,layerFilterType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"filterField"}}function J(e,t,r,n){return{type:l,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}}}function ee(e,t){return{type:c,rowId:e,exceptionMessage:t}}function te(e,t){return{type:f,groupId:e,logic:t}}function re(e){return{type:H,status:e}}function ne(e){return{type:p,groupId:e}}function oe(e){return{type:d,attributes:e}}function ie(e){return{type:y,expand:e}}function ae(e){return{type:m,expand:e}}function ue(e){return{type:g,expand:e}}function le(e,t){return{type:b,key:e,value:t}}function ce(e,t){return{type:h,fieldName:t,method:e}}function se(){return{type:E}}function fe(e){return{type:O,geometry:e}}function pe(e,t){return{type:S,fieldName:t,operation:e}}function de(e){return{type:w,attribute:e}}function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.feature,r=e.srsName,n=e.collectGeometries,o=e.style,i=e.options,a=e.value;return{type:T,value:a,collectGeometries:n,options:i,geometry:t&&t.geometry,feature:t,srsName:r,style:o}}function me(){return{type:P}}function ge(e){return{type:C,show:e}}function be(e){return{type:A,distance:e}}function ve(e,t){return{type:F,searchUrl:e,filterObj:t}}function he(e){return{type:Q,filter:e}}function Ee(e){return{type:I,skip:e}}function Oe(e,t){return{type:D,error:e,id:t}}function Se(e,t){return{type:R,active:e,id:t}}function we(e,t,r){return function(n){return o().post(e,t,{timeout:1e4,headers:{Accept:"application/json","Content-Type":"text/plain"}}).then((function(o){var a=o.data;if("object"!==i(a))try{a=JSON.parse(a)}catch(o){n(Oe("Search result broken ("+e+":   "+t+"): "+o.message,r))}n(function(e,t){return{type:_,data:e,id:t}}(a,r)),n(Se(!1,r))})).catch((function(e){n(Oe(e,r))}))}}function Te(e,t){return{type:G,id:e,value:t}}function Pe(e){return{type:Y,rowId:(new Date).getTime(),groupId:e}}function Ce(e,t,r,n){return{type:Z,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}}}function Fe(e){return{type:z,rowId:e}}function Ie(){return{type:v}}function je(e,t){return{type:B,status:e,filterField:t,layerFilterType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"filterField"}}function Ae(e,t,r){return{type:U,filterField:e,options:t,valuesCount:r}}function Re(e,t,r){return{type:V,filterField:e,options:t,valuesCount:r}}},247361:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(675263),o=r.n(n),i=r(124852),a=r.n(i),u=r(414293),l=r.n(u),c=r(868195);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(n);if(o){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){return this.context.intl?a().createElement(c.FormattedNumber,f({value:this.props.value},this.props.numberParams)):a().createElement("span",null,!l()(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}])&&p(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(a().Component);m(b,"propTypes",{value:o().oneOfType([o().object,o().number]),numberParams:o().object}),m(b,"contextTypes",{intl:o().object});const v=b},921533:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(867076),o=r(815135),i=r(159979);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var u=["renderPopover","popoverOptions"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=(0,n.compose)((0,n.withProps)((function(e){var t=e.renderPopover,r=e.popoverOptions;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(t?{renderPopover:t,popoverOptions:r}:{},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,u))})),(0,n.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.renderPopover,r=e.popoverOptions;return t&&!!r}),i.Z,o.Z))},159979:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(124852),o=r.n(n),i=r(352595),a=r(757588),u=r(957557),l=r.n(u),c=r(180307),s=r.n(c);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var p=["popoverOptions","keyProp"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===f(o)?o:String(o)),n)}var o}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}const b=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(v,t);var r,n,u,c,b=(u=v,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(u);if(c){var r=g(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function v(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),b.apply(this,arguments)}return r=v,(n=[{key:"render",value:function(){var t=null,r=this.props,n=r.popoverOptions,u=r.keyProp,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,p);return o().createElement("span",{className:"mapstore-info-popover"},o().createElement(e,d({},l()(c,["renderPopover","tooltipId"]),{key:u,ref:function(e){t=e}})),o().createElement(i.Z,{placement:n.placement,shouldUpdatePosition:!0,show:!0,target:function(){return s().findDOMNode(t)}},o().createElement(a.Popover,n.props,n.content)))}}])&&y(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),v}(o().Component)}},656903:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(124852),o=r.n(n),i=r(757588),a=r(282467),u=["disabled","id","visible","onClick","glyph","active","className"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}var c={width:0,padding:0,borderWidth:0},s={},f=function(e){return e?s:c};const p=(0,n.forwardRef)((function(e,t){var r=e.disabled,n=e.id,c=e.visible,s=e.onClick,p=e.glyph,d=e.active,y=e.className,m=void 0===y?"square-button-md":y,g=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,u);return o().createElement(a.Z,l({ref:t},g,{bsStyle:d?"success":"primary",disabled:r,id:"fg-".concat(n),style:f(c),className:m,onClick:function(){return!r&&s()}}),o().createElement(i.Glyphicon,{glyph:p}))}))},501262:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(727418),o=r.n(n),i=r(675263),a=r.n(i),u=r(124852),l=r.n(u),c=r(180307),s=r.n(c),f=r(757588),p=r(282467),d=r(805346),y=r(807472);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function E(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===m(t)?t:String(t)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(n);if(i){var r=h(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return E(v(e=a.call.apply(a,[this].concat(r))),"setConfirmRef",(function(t){return e.confirm=t,e.confirm})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.props.focusConfirm&&s().findDOMNode(this.confirm).focus()}},{key:"render",value:function(){return l().createElement(y.Z,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:o()({},this.props.style,{display:this.props.show?"block":"none"})},l().createElement("span",{role:"header"},l().createElement("span",{className:"user-panel-title"},this.props.title),l().createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?l().createElement(f.Glyphicon,{glyph:this.props.closeGlyph}):l().createElement("span",null,"×"))),l().createElement("div",{role:"body"},this.props.children),l().createElement("div",{role:"footer"},l().createElement(f.ButtonGroup,null,l().createElement(p.Z,{ref:this.setConfirmRef,onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),l().createElement(p.Z,{onClick:this.props.onClose},this.props.closeText))))}}])&&g(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(l().Component);E(S,"propTypes",{show:a().bool,draggable:a().bool,onClose:a().func,onConfirm:a().func,onSave:a().func,modal:a().bool,closeGlyph:a().string,style:a().object,buttonSize:a().string,inputStyle:a().object,title:a().node,confirmButtonContent:a().node,confirmButtonDisabled:a().bool,closeText:a().node,confirmButtonBSStyle:a().string,focusConfirm:a().bool}),E(S,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:l().createElement(d.Z,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:l().createElement(d.Z,{msgId:"confirm"})||"Confirm",closeText:l().createElement(d.Z,{msgId:"close"}),includeCloseButton:!0,focusConfirm:!1});const w=S},807472:(e,t,r)=>{"use strict";r.d(t,{Z:()=>T});var n=r(727418),o=r.n(n),i=r(675263),a=r.n(i),u=r(124852),l=r.n(u),c=r(485294),s=r.n(c),f=r(472986),p=r.n(f),d=r(805346);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function O(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(n);if(i){var r=E(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return O(h(e=a.call.apply(a,[this].concat(r))),"renderLoading",(function(){return e.props.maskLoading?l().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},l().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},l().createElement(d.Z,{msgId:"loading"}),l().createElement(p(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),O(h(e),"renderRole",(function(t){return l().Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),O(h(e),"hasRole",(function(t){return l().Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),O(h(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=l().createElement("div",{id:this.props.id,style:g({},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},l().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),l().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?l().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):l().createElement("span",null)),r=this.props.draggable?l().createElement(s(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,n=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?l().createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&b(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(l().Component);O(w,"propTypes",{id:a().string.isRequired,style:a().object,backgroundStyle:a().object,className:a().string,maskLoading:a().bool,containerClassName:a().string,headerClassName:a().string,bodyClassName:a().string,footerClassName:a().string,onClickOut:a().func,modal:a().bool,start:a().object,draggable:a().bool,bounds:a().oneOfType([a().string,a().object])}),O(w,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const T=w},273849:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(867076),o=r(828878),i=r(49977),a=r.n(i);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=(0,n.mapPropsStreamWithConfig)(o.Z);const p=(0,n.compose)((0,n.defaultProps)({dataStreamFactory:function(){return a().Observable.of({})}}),f((function(e){return e.take(1).switchMap((function(t){return t.dataStreamFactory(e.startWith(t),t)})).combineLatest(e,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(c({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),e)}))})))},536575:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>bn});var n={};r.r(n),r.d(n,{activateBoxSelectionTool:()=>Me,activateGeometryFilter:()=>Ye,activateTemporaryChangesEpic:()=>Le,askChangesConfirmOnFeatureGridClose:()=>at,autoCloseFeatureGridEpicOnDrowerOpen:()=>it,autoReopenFeatureGridOnFeatureInfoClose:()=>st,closeIdentifyWhenOpenFeatureGrid:()=>yt,closeRightPanelOnFeatureGridOpen:()=>Xe,deactivateBoxSelectionTool:()=>Ne,deactivateGeometryFilter:()=>Be,deactivateSyncWmsFilterOnFeatureGridClose:()=>bt,deleteGeometryFeature:()=>Je,deleteSelectedFeatureGridFeatures:()=>We,disableMultiSelect:()=>_e,enableGeometryFilterOnEditMode:()=>De,featureGridBrowseData:()=>Pe,featureGridChangePage:()=>Ze,featureGridLayerSelectionInitialization:()=>Ce,featureGridReloadPageOnSaveSuccess:()=>ze,featureGridSort:()=>Ie,featureGridStartupQuery:()=>Fe,featureGridUpdateGeometryFilter:()=>je,featureGridUpdateTextFilters:()=>Re,handleBoxSelectionDrawEnd:()=>ke,handleClickOnMap:()=>Ge,handleDrawFeature:()=>Ke,handleEditFeature:()=>Qe,handleGeometryFilterActivation:()=>Ue,hideDrawerOnFeatureGridOpenMobile:()=>St,hideFeatureGridOnDrawerOpenMobile:()=>Ot,launchUpdateFilterEpic:()=>Ae,onClearChangeConfirmedFeatureGrid:()=>ut,onCloseFeatureGridConfirmed:()=>lt,onFeatureGridCreateNewFeature:()=>tt,onFeatureGridGeometryEditing:()=>qe,onFeatureGridZoomAll:()=>pt,onOpenAdvancedSearch:()=>ft,removeWmsFilterOnGridClose:()=>ct,replayOnTimeDimensionChange:()=>Et,resetControlsOnEnterInEditMode:()=>dt,resetEditingOnFeatureGridClose:()=>$e,resetGridOnLocationChange:()=>nt,resetQueryPanel:()=>ot,resetSnappingLayerOnFeatureGridClosed:()=>Tt,savePendingFeatureGridChanges:()=>He,selectFeaturesOnMapClickResult:()=>xe,setDefaultSnappingLayerOnFeatureGridOpen:()=>wt,setHighlightFeaturesPath:()=>rt,startSyncWmsFilter:()=>mt,stopSyncWmsFilter:()=>gt,syncMapWmsFilter:()=>vt,toggleSnappingOffOnFeatureGridViewMode:()=>Pt,triggerDrawSupportOnSelectionChange:()=>et,updateSelectedOnSaveOrCloseFeatureGrid:()=>Ve,virtualScrollLoadFeatures:()=>ht});var o=r(124852),i=r.n(o),a=r(171703),u=r(22222),l=r(12838),c=r(227361),s=r.n(c),f=r(478718),p=r.n(f),d=r(618446),y=r.n(d),m=r(867076),g=r(732833),b=r(496259),v=r(588300),h=r(965539),E=r(322843),O=r(196958),S=r(433528),w=r(49977),T=r.n(w),P=r(91175),C=r.n(P),F=r(441609),I=r.n(F),j=r(313311),A=r.n(j),R=r(984596),D=r.n(R),_=r(264721),G=r.n(_),k=r(354061),M=r.n(k),N=r(275982),x=r(375875),L=r.n(x),U=r(813292),B=r.n(U),Y=r(834387),Z=r(727418),z=r.n(Z),V=r(604206),H=r(750937),W=r.n(H),Q=r(378889),K=r(921914),$=r(95797),X=r(807878),q=r(801550),J=r(41156),ee=r(800827),te=r(580416),re=r(782904),ne=r(607147),oe=r(129386),ie=r(731255),ae=r(197395),ue=r(824260),le=r(510284),ce=r(469842),se=r(120096),fe=r(47805),pe=r(986267),de=r(552259);function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function me(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ge(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function he(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ye(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ye(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.page,n=t.size,o=(0,ie.Vf)(e),i=void 0!==n?n:o.size;return{startIndex:void 0!==r?r*i:o.page*i,maxFeatures:i}},Oe=function(e,t){return ve(ve({},e),{},{pagination:t})},Se=function(e,t){return T().Observable.defer((function(){return L().post(e,t,{headers:{"Content-Type":"application/xml"}})})).let(le.oB)},we=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).featuregrid;return(0,te.He)(e.selectedLayer,{filterObj:void 0})},Te=function(e){return function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.update,o=void 0===n?{}:n,i=r.append,a=(0,ie.Li)(e.getState()).id,u=ve({},s()(e.getState(),'featuregrid.advancedFilters["'.concat(a,'"]')));if(u){var l=(0,ie.M0)(e.getState())||{},c=M()(l,(function(e,t,r){return(0,O.dJ)(ve({attribute:r},t),e)}),{}),f="AND";c.spatialField&&(u.spatialField=void 0,f=c.spatialFieldOperator);var p=(0,fe.composeAttributeFilters)([u,c],"AND",f),d=ve(ve({},u),p);return(0,$.rh)({updates:d,reason:null==o?void 0:o.type})}var y=o;return i&&null!=o&&o.attribute&&(y=(0,ie.M0)(e.getState())[null==o?void 0:o.attribute]),(0,$.rh)({updates:(0,O.dJ)(y,(0,ue.X1)(e.getState())),reason:null===(t=y)||void 0===t?void 0:t.type})}},Pe=function(e,t){return e.ofType(te.R8).switchMap((function(r){var n,o=r.layer,i=s()(t.getState(),"query.typeName");return(n=T().Observable).of.apply(n,me(i!==o.name?[(0,X.mc)()]:[]).concat([(0,re.Xg)("drawer","enabled",!1),(0,S.uF)(o.id),(0,S.t9)()])).merge(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.url,o=r.name,i=r.id,a=s()(t.getState(),'featuregrid.advancedFilters["'.concat(i,'"]'));return T().Observable.of((0,$.gT)(n,o)).merge(e.ofType($.u7).filter((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).typeName===o})).map((function(){return(0,$.rP)(n,a||{featureTypeName:o,filterType:"OGC",ogcVersion:"1.1.0"})})))}(e,t,o))}))},Ce=function(e){return e.ofType($.DR).switchMap((function(e){return T().Observable.of((0,S.uF)(e.id))}))},Fe=function(e,t){return e.ofType($.Yx).switchMap((function(){return T().Observable.of((0,S.oO)(0)).concat((0,ie.eK)(t.getState())===S.EH.VIEW?T().Observable.of((0,S.nY)()):T().Observable.empty())}))},Ie=function(e,t){return e.ofType(S.dY).switchMap((function(r){var n=r.sortBy,o=r.sortOrder;return T().Observable.of((0,$.IO)((0,ue.Bu)(t.getState()),Oe(ve(ve({},(0,ue.X1)(t.getState())),{},{sortOptions:{sortBy:n,sortOrder:o}}),Ee(t.getState())),(0,ie.TC)(t.getState()))).merge(e.ofType($.Hu).map((function(e){return(0,S.UB)(s()(e,"result.features",[]),[s()(e,"filterObj.pagination.startIndex")])})).takeUntil(e.ofType($.VT)).take(1))}))},je=function(e,t){return e.ofType(S.$O).switchMap((function(){var r,n=null===(r=(0,ie.Vf)(t.getState()))||void 0===r?void 0:r.size;return e.ofType(S._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled&&!r.value})).switchMap((function(){var r=!1;return e.ofType(S._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled&&!r.deactivated})).switchMap((function(e,n){return 0===n?(r=!0,T().Observable.from([(0,S.Jr)(1e5),(0,S.KD)([]),Te(t)(e)])):T().Observable.of(Te(t)(e))})).takeUntil(T().Observable.merge(e.ofType(S._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(S.sF,N.nk))).merge(e.ofType(S._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})).take(1).switchMap((function(e){return r?T().Observable.of((0,S.Jr)(n),Te(t)(e)):T().Observable.of(Te(t)(e))})).takeUntil(e.ofType(S.sF,N.nk))).merge(e.ofType(S.sF,N.nk).take(1).switchMap((function(){var e,o=(0,S.a8)({attribute:null===(e=(0,Q.findGeometryProperty)((0,ue.Qs)(t.getState())))||void 0===e?void 0:e.name,enabled:!1,type:"geometry"});return r?T().Observable.of((0,S.Jr)(n),o,(0,S.pP)(o)):T().Observable.of(o,(0,S.pP)(o))})))}))}))},Ae=function(e,t){return e.ofType(S.iB).switchMap((function(e){return T().Observable.of(Te(t)(e.updateFilterAction))}))},Re=function(e,t){return e.ofType($.Yx).switchMap((function(){return e.ofType(S._u).filter((function(e){var t=e.update;return"geometry"!==(void 0===t?{}:t).type})).map(Te(t))}))},De=function(e,t){return e.ofType(S.aO).filter((function(){return(0,ie.eK)(t.getState())===S.EH.EDIT})).switchMap((function(){return(A()((0,ie.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{}).value?T().Observable.empty():T().Observable.of((0,S.a8)({attribute:(0,Q.findGeometryProperty)((0,ue.Qs)(t.getState())).name,enabled:!0,type:"geometry"}))}))},_e=function(e){return e.ofType(S._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})).switchMap((function(){return T().Observable.of((0,S.dq)({multiselect:!1}))}))},Ge=function(e,t){return e.ofType(S._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return e.ofType(q.TR).switchMap((function(e){var r,n=e.point,o=n.latlng,i=n.pixel,a=n.modifiers,u=a.ctrl,l=a.metaKey,c=A()((0,ie.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},f=(0,ee.uy)(t.getState()),p=pe.default.reproject([o.lng,o.lat],"EPSG:4326",f),d=de.default.getHook(de.default.GET_COORDINATES_FROM_PIXEL_HOOK),y=pe.default.calculateCircleRadiusFromPixel(d,i,p,4);return c.deactivated?T().Observable.empty():T().Observable.of((0,S.dq)({multiselect:null!==(r=u||l)&&void 0!==r&&r}),(0,S.a8)(ve(ve({},c),{},{value:{attribute:c.attribute||s()((0,ce.vE)(t.getState()),"attribute"),geometry:{center:[p.x,p.y],coordinates:pe.default.calculateCircleCoordinates(p,y,12),extent:[p.x-y,p.y-y,p.x+y,p.y+y],projection:f,radius:y,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}}),u||l))})).takeUntil(T().Observable.merge(e.ofType(S._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(N.nk)))}))},ke=function(e,t){return e.ofType(S._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return e.ofType(J.fy).switchMap((function(e){var r,n=e.boxEndInfo,o=n.boxExtent,i=n.modifiers,a=i.ctrl,u=i.metaKey,l=pe.default.getPolygonFromExtent(o),c=(0,ee.uy)(t.getState()),f=A()((0,ie.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{};return f.deactivated?T().Observable.empty():T().Observable.of((0,S.dq)({multiselect:null!==(r=a||u)&&void 0!==r&&r}),(0,S.a8)(ve(ve({},f),{},{value:{geometry:ve(ve({},l.geometry),{},{projection:c}),attribute:f.attribute||s()((0,ce.vE)(t.getState()),"attribute"),method:"Rectangle",operation:"INTERSECTS"}}),a||u))})).takeUntil(T().Observable.merge(e.ofType(S._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled}))))}))},Me=function(e){return e.ofType(S._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return T().Observable.of((0,J.ZR)("start"))}))},Ne=function(e){return T().Observable.merge(e.ofType(S._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(S.sF)).switchMap((function(){return T().Observable.of((0,J.ZR)("end"))}))},xe=function(e,t){return e.ofType($.Hu).filter((function(e){return"geometry"===e.reason})).switchMap((function(e){var r=e.result,n=s()(r,"features"),o=(0,ie.gz)(t.getState()),i=A()((0,ie.M0)(t.getState()),(function(e){return"geometry"===e.type}));return T().Observable.of((0,S.KD)(n.length>0&&i&&i.value?me(n):[],o))}))},Le=function(e){return e.ofType(S.VV).flatMap((function(e){var t=e.activated;return T().Observable.of((0,S.YG)(t),(0,S.VH)(t))}))},Ue=function(e,t){return e.ofType(S._9).flatMap((function(){var e=A()((0,ie.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},r=(0,ie.LB)(t.getState()),n=(0,ie.b4)(t.getState());return T().Observable.of((0,S.a8)(ve(ve({},e),{},{type:"geometry",attribute:e.attribute||s()((0,ce.vE)(t.getState()),"attribute"),deactivated:!(!r&&!n&&e.deactivated)})))}))},Be=function(e,t){return T().Observable.merge(e.ofType(S.IN,V.DI,S.JB,S.K8),e.ofType(S.B8).filter((function(e){return!!e.deactivated}))).flatMap((function(){var e=A()((0,ie.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{};return e.deactivated?T().Observable.empty():T().Observable.of((0,S.a8)(ve(ve({},e),{},{type:"geometry",attribute:e.attribute||s()((0,ce.vE)(t.getState()),"attribute"),deactivated:!0})))}))},Ye=function(e,t){return T().Observable.merge(e.ofType(S.AY,S.yi),e.ofType(S.B8).filter((function(e){return!e.deactivated}))).flatMap((function(){var e=A()((0,ie.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},r=(0,ie.LB)(t.getState()),n=(0,ie.b4)(t.getState());return!e.deactivated||r||n?T().Observable.empty():T().Observable.of((0,S.a8)(ve(ve({},e),{},{type:"geometry",attribute:e.attribute||s()((0,ce.vE)(t.getState()),"attribute"),deactivated:!1})))}))},Ze=function(e,t){return e.ofType(S.gG).merge(e.ofType($.VN).debounceTime(500).map((function(e){return ve(ve({},e),{},{page:0})}))).switchMap((function(r){return function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.page,n=t.size,o=t.reason,i=e.getState();return T().Observable.of((0,$.IO)((0,ue.Bu)(i),Oe(ve({},(0,ue.X1)(i)),Ee(i,{page:r,size:n})),(0,ie.TC)(i),o))}}(t)(r).merge(e.ofType($.Hu).map((function(e){var r=s()(e,"result.features",[]),n=(0,ie.gz)(t.getState()),o=A()((0,ie.M0)(t.getState()),(function(e){return"geometry"===e.type}));return n&&null!=o&&o.enabled&&(r=(0,ie._w)(t.getState())),(0,S.UB)(r,[s()(e,"filterObj.pagination.startIndex")])})).take(1).takeUntil(e.ofType($.VT)))}))},ze=function(e,t){return e.ofType(S.AY).switchMap((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.page,o=r.size;return T().Observable.of((0,$.IO)((0,ue.Bu)(t.getState()),Oe(ve({},(0,ue.X1)(t.getState())),Ee(t.getState(),{page:n,size:o})),(0,ie.TC)(t.getState())),(0,te.ct)((0,ie.u$)(t.getState()))).merge(e.ofType($.Hu).map((function(e){return T().Observable.of((0,S.$E)(),(0,S.UB)(s()(e,"result.features",[]),[s()(e,"filterObj.pagination.startIndex")]))})).mergeAll().takeUntil(e.ofType($.VT)).take(2))}))},Ve=function(e){return e.ofType(S.AY,S.sF).switchMap((function(){return T().Observable.of((0,S.KD)([]))}))},He=function(e,t){return e.ofType(S.zh).switchMap((function(){return T().Observable.of((0,S.fO)()).concat(function(){var e,t,r,n,o,i,a,u=arguments.length>2?arguments[2]:void 0;return Se(arguments.length>3?arguments[3]:void 0,(e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=W()(u),n=r.insert,o=r.update,i=r.propertyChange,a=r.getPropertyName,(0,r.transaction)(t.map((function(e){return n(e)})),Object.keys(e).map((function(t){return Object.keys(e[t]).map((function(r){return o([i(a(r),e[t][r]),(0,Y.fidFilter)("ogc",t)])}))})))))}((0,ie.ND)(t.getState()),(0,ie.kG)(t.getState()),(0,ue.Qs)(t.getState()),(0,ue.Bu)(t.getState())).map((function(){return(0,S.gc)()})).catch((function(e){return T().Observable.of((0,S.cE)(),(0,ae.vU)({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError",autoDismiss:5}))})))}))},We=function(e,t){return e.ofType(S.Hk).switchMap((function(){return T().Observable.of((0,S.fO)()).concat((e=(0,ie._w)(t.getState()),r=(0,ue.Qs)(t.getState()),n=(0,ue.Bu)(t.getState()),Se(n,function(e,t){var r=t.transaction,n=t.deleteFeature;return r(e.map(n))}(e,W()(r)))).map((function(){return(0,S.gc)()})).catch((function(e){return T().Observable.of((0,S.cE)(),(0,ae.vU)({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError"}))})).concat(T().Observable.of((0,S.Pv)("deleteConfirm"),(0,S.MO)())));var e,r,n}))},Qe=function(e,t){return e.ofType(S.Ub).switchMap((function(){var e=t.getState(),r=(0,ue.Qs)(e),n=(0,O.cZ)(),o=(0,Q.findGeometryProperty)(r).localType,i={featureProjection:n,stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1},a=z()({},(0,ie.P3)(e),{type:"Feature"}),u=(0,ie.ND)(e);return u[a.id]&&u[a.id]&&u[a.id].geometry&&(a.geometry=u[a.id].geometry),T().Observable.of((0,V.Yf)("drawOrEdit",o,"featureGrid",[a],i))}))},Ke=function(e,t){return e.ofType(S._9).switchMap((function(){var e=t.getState(),r=(0,ue.Qs)(e),n=(0,O.cZ)(),o=(0,Q.findGeometryProperty)(r).localType,i=z()({},(0,ie.P3)(e),{type:"Feature"}),a=(0,ie.ND)(e);a[i.id]&&(a[i.id].geometry||null===a[i.id].geometry)&&(i.geometry=a[i.id].geometry),i._new&&(i.geometry=C()((0,ie.kG)(e)).geometry);var u={featureProjection:n,stopAfterDrawing:!0,editEnabled:!(0,ie.Ae)(e),drawEnabled:(0,ie.Ae)(e)};return T().Observable.of((0,V.Yf)("drawOrEdit",o,"featureGrid",[i],u))}))},$e=function(e,t){return e.ofType(S.$O).switchMap((function(){return e.ofType(S.aO).filter((function(){return(0,ie.eK)(t.getState())===S.EH.EDIT})).take(1).switchMap((function(){return e.ofType(N.nk,S.sF).take(1).switchMap((function(){return T().Observable.of((0,V.bp)())}))}))}))},Xe=function(e,t){return e.ofType(S.$O).switchMap((function(){var e=[(0,re.Xg)("metadataexplorer","enabled",!1),(0,re.Xg)("annotations","enabled",!1),(0,re.Xg)("details","enabled",!1)];return(0,ne.Iz)(t.getState())&&e.push((0,re.Xg)("measure","enabled",!1)),T().Observable.from(e)}))},qe=function(e,t){return e.ofType(V.DI).filter((function(e){return"featureGrid"===e.owner})).delay(500).switchMap((function(e){var r=t.getState(),n={featureProjection:(0,O.cZ)(),stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1},o=e.features.map((function(e,t){return z()({},e,{id:(0,ie._w)(r)[t].id,_new:(0,ie._w)(r)[t]._new,type:"Feature"})})),i=z()({},C()(e.features),{id:(0,ie.P3)(r).id,_new:(0,ie.P3)(r)._new,type:"Feature"}),a="enterEditMode"===e.enableEdit?T().Observable.of((0,V.Yf)("drawOrEdit",i.geometry.type,"featureGrid",o,n)):T().Observable.empty();return T().Observable.of((0,S.Vw)(o)).concat(a)}))},Je=function(e,t){return e.ofType(S.JB).switchMap((function(){var e=t.getState();return T().Observable.from([(0,S.F5)((0,ie._w)(e)),(0,V.bp)()])}))},et=function(e,t){return e.ofType(S.Oj,S.jp,S.yi,S.aO).filter((function(){return(0,ie.eK)(t.getState())===S.EH.EDIT&&(0,ie.bq)(t.getState())})).switchMap((function(e){return r=t.getState(),n=e.type===S.yi,o=(0,O.cZ)(),i=(0,Q.findGeometryProperty)((0,ue.Qs)(r)).localType,a={featureProjection:o,stopAfterDrawing:de.default.isSimpleGeomType(i),editEnabled:!0,drawEnabled:!1},(u=(0,ie._w)(r).map((function(e){var t=z()({},e,{type:"Feature"});if(!I()(t)){var o=(0,ie.ND)(r);if(o[t.id]&&(o[t.id].geometry||null===o[t.id].geometry)&&(t.geometry=o[t.id].geometry),t._new&&!t.geometry){var i=A()((0,ie.kG)(r),{id:t.id});i&&i.geometry&&(t.geometry=i.geometry)}n&&(t.geometry=(0,ue.dc)(r,t.id)?(0,ue.dc)(r,t.id).geometry:null)}return t})).filter((function(e){return null!==e.geometry||"empty_row"!==e.id}))).length>0?T().Observable.from([(0,V.Yf)("drawOrEdit",i,"featureGrid",u,a)]):T().Observable.from([(0,V.Yf)("clean","","featureGrid",[],{})]);var r,n,o,i,a,u}))},tt=function(e){return e.ofType(S.IN).switchMap((function(){return T().Observable.of((0,V.bp)())}))},rt=function(e,t){return e.ofType(S.aO).switchMap((function(e){return e.mode===S.EH.VIEW?T().Observable.of((0,V.bp)(),(0,oe.WP)("featuregrid.select")):e.mode!==S.EH.EDIT||(0,ie.bq)(t.getState())?T().Observable.of((0,oe.WP)()):T().Observable.of((0,V.bp)(),(0,oe.WP)("featuregrid.select"),(0,ae.Kp)({title:"featuregrid.notSupportedGeometryTitle",message:"featuregrid.notSupportedGeometry",uid:"notSupportedGeometryWarning",autoDismiss:5}))}))},nt=function(e){return e.ofType(S.$O).switchMap((function(){return e.ofType(N.nk).take(1).switchMap((function(){return T().Observable.of((0,S.nY)(),(0,S.YV)())})).takeUntil(e.ofType(S.sF))}))},ot=function(e,t){return e.ofType(N.nk).switchMap((function(){return(0,ne._d)(t.getState())?T().Observable.of((0,re.Xg)("queryPanel","enabled",!1)):T().Observable.empty()}))},it=function(e,t){return e.ofType(S.$O).switchMap((function(){return e.ofType(re.kM).filter((function(e){return e.control&&"drawer"===e.control&&(0,ie.Rd)(t.getState())})).switchMap((function(){return T().Observable.of((0,S.YV)(),(0,S.KD)([]))})).takeUntil(e.ofType(N.nk))}))},at=function(e,t){return e.ofType(S.bZ).switchMap((function(){var e=t.getState();return(0,ie.LB)(e)||(0,ie.b4)(e)?T().Observable.of((0,S.Pv)("featureCloseConfirm",!0)):T().Observable.of((0,S.YV)())}))},ut=function(e){return e.ofType(S.Gk).switchMap((function(){return T().Observable.of((0,S.$E)(),(0,S.Pv)("clearConfirm",!1))}))},lt=function(e){return e.ofType(S.vO).switchMap((function(){return T().Observable.of((0,re.Xg)("drawer","enabled",!1),(0,S.Pv)("featureCloseConfirm",!1))}))},ct=function(e,t){return e.ofType(S.$O).exhaustMap((function(){return e.ofType(S.sF).delay(50).filter((function(){return(0,ue.M7)(t.getState())})).switchMap((function(){return T().Observable.of(we(t.getState()))})).takeUntil(e.ofType(N.nk,K.xy,S.VM))}))},st=function(e){return e.ofType(S.$O).switchMap((function(){return T().Observable.race(e.ofType(K.xy).take(1),e.ofType(S.sF).take(1)).exhaustMap((function(t){return t.type===S.sF?T().Observable.empty():e.ofType(K.F9).switchMap((function(){return T().Observable.of((0,S.t9)())}))})).takeUntil(e.ofType(N.nk,re.kM).filter((function(e){return e.type===N.nk||e.control&&"drawer"===e.control})).merge(e.ofType(S.sF).withLatestFrom(e.ofType(K.xy,K.F9).scan((function(e,t){switch(t.type){case K.xy:return!1;case K.F9:return!0;default:return!1}}),!0).startWith(!0),(function(e,t){return t})).filter((function(e){return e}))))}))},ft=function(e,t){return e.ofType(S.VM).switchMap((function(){return T().Observable.of((0,S.KD)([]),(0,X.F)(s()(t.getState(),'featuregrid.advancedFilters["'.concat((0,ie.u$)(t.getState()),'"]'))),(0,S.YV)(),(0,re.Xg)("queryPanel","enabled",!0)).merge(T().Observable.race(e.ofType(X.Wm).mergeMap((function(e){return T().Observable.of((0,$.rP)(e.searchUrl,e.filterObj),(0,S.Uh)(z()({},(0,ce.gC)(t.getState()),e.filterObj)),(0,re.Xg)("queryPanel","enabled",!1),(0,S.t9)())})),e.ofType(re.kM).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,r=e.property;return"queryPanel"===t&&(!r||"enabled"===r)})).mergeMap((function(){var e="clean"!==(t.getState().draw||{}).drawStatus?[(0,V.Yf)("clean","","featureGrid",[],{})]:[];return T().Observable.from(e.concat((0,S.t9)()))}))).takeUntil(e.ofType(S.$O,N.nk)))}))},pt=function(e,t){return e.ofType(S.a3).filter((function(){return!s()(t.getState(),"featuregird.virtualScroll",!1)})).switchMap((function(){return T().Observable.of((0,q.Px)(B()((0,ue.F0)(t.getState())),"EPSG:4326"))}))},dt=function(e){return e.ofType(S.aO).filter((function(e){return e.mode===S.EH.EDIT})).map((function(){return(0,re.fV)(["query"])}))},yt=function(e){return e.ofType(S.$O).switchMap((function(){return T().Observable.of((0,K.Mc)())}))},mt=function(e,t){return e.ofType($._T).filter((function(){return(0,ue.M7)(t.getState())})).mapTo((0,S.hB)())},gt=function(e,t){return e.ofType($._T).filter((function(){return!(0,ue.M7)(t.getState())})).switchMap((function(){return T().Observable.from([we(t.getState()),{type:S.Hg}])}))},bt=function(e,t){return e.ofType(S.sF).filter((function(){return(0,ue.M7)(t.getState())})).switchMap((function(){return T().Observable.of((0,$.XO)())}))},vt=function(e,t){return e.ofType($.Yx,$.VN).filter((function(e){var r=t.getState().featuregrid.disableQuickFilterSync;return e.type===$.Yx||!r})).switchMap((function(){var r=t.getState(),n=r.query,o=(r.featuregrid||{}).selectedLayer,i=(n||{}).filterObj;return T().Observable.merge(T().Observable.of((0,ue.M7)(t.getState())).filter((function(e){return e})),e.ofType(S.Yd)).mergeMap((function(){return T().Observable.of(function(e,t){return(0,te.He)(e,{filterObj:t})}(o,i))}))}))},ht=function(e,t){var r=t.getState;return e.ofType(S.ye).filter((function(){return!(0,ue.gy)(r())})).switchMap((function(t){var n=r(),o=t.pages,i=o.startPage,a=o.endPage,u=n.featuregrid,l=u.pages,c=u.pagination,f=s()(c,"size"),p=(0,O.gP)(i,a,l,f),d=p[1]-p[0]+1;return T().Observable.of((0,$.IO)((0,ue.Bu)(n),Oe(ve({},(0,ue.X1)(n)),{startIndex:p[0]*f,maxFeatures:d*f}),(0,ie.TC)(n))).filter((function(){return p.length>0})).merge(e.ofType($.Hu).filter((function(){return p.length>0})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.result,n=void 0===t?{}:t,o=e.filterObj,u=r().featuregrid,c=u.features,p=u.maxStoredPages,d=s()(o,"pagination.startIndex"),y=(0,O.f1)(n,{endPage:a,startPage:i},{pages:l,features:c||[]},{size:f,startIndex:d,maxStoredPages:p}),m=y.pages,g=y.features;return(0,S.UB)(g,m)})).take(1).takeUntil(e.ofType($.VT))).merge(e.ofType($.yz).filter((function(){return p.length>0})).filter((function(e){return!e.isLoading})).withLatestFrom(e.ofType(S.ye)).map((function(e){return e[1]})).take(1).takeUntil(e.ofType($.VT)))}))},Et=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,r=void 0===t?function(){}:t;return e.ofType(te.Zz).filter((function(e){var t=e.layer,n=void 0===t?[]:t,o=e.params,i=void 0===o?{}:o;return G()(D()(n),(0,ie.u$)(r()))&&G()(Object.keys(i),"time")&&(0,ie.DK)(r())})).merge(e.ofType(S.d)).filter((function(){return(0,ie.Rd)(r())})).withLatestFrom(e.ofType($.Qq),(function(e,t){return t})).switchMap((function(e){return T().Observable.of((0,$.rP)(e.searchUrl,e.filterObj))}))},Ot=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(re.kM).filter((function(){return"drawer"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).control&&t().browser&&t().browser.mobile&&(0,ne.BP)(t())})).switchMap((function(){return T().Observable.of((0,K.aN)(),(0,S.t9)())}))},St=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(K.xy).filter((function(){return t().browser&&t().browser.mobile&&(0,ne.BP)(t())})).mapTo((0,re.Xi)("drawer","enabled"))},wt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(S.$).switchMap((function(){var e,r=null===(e=(0,ie.Li)(t()))||void 0===e?void 0:e.id;return T().Observable.of((0,V.k4)(r))}))},Tt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(S.sF).switchMap((function(){var e=[(0,V.k4)(!1)];return(0,se.jP)(t())&&e.push((0,V.oJ)()),T().Observable.from(e)}))},Pt=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState;return e.ofType(S.aO).filter((function(e){return"VIEW"===e.mode})).switchMap((function(){var e=[];return(0,se.jP)(t())&&e.push((0,V.oJ)()),T().Observable.from(e)}))},Ct=r(545578),Ft=r.n(Ct),It=r(701469),jt=r.n(It),At=r(455877),Rt=r.n(At),Dt=r(415124);function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function Gt(e){return function(e){if(Array.isArray(e))return kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return kt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(r),!0).forEach((function(t){xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==_t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_t(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lt={advancedFilters:{},filters:{},editingAllowedRoles:["ADMIN"],enableColumnFilters:!0,showFilteredObject:!1,timeSync:!1,showTimeSync:!1,open:!1,canEdit:!1,focusOnEdit:!1,showAgain:!1,showPopoverSync:null===(0,Dt.ac)().getItem("showPopoverSync")||"true"===(0,Dt.ac)().getItem("showPopoverSync"),mode:S.EH.VIEW,changes:[],pagination:{page:0,size:20},select:[],drawing:!1,newFeatures:[],features:[],dockSize:.35,customEditorsOptions:{rules:[]}},Ut=function(e,t){return t===e||void 0!==e.id&&null!==e.id&&e.id===t.id},Bt=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter((function(t){return Ut(e,t)})).length>0},Yt=function(e,t,r,n){return e.map((function(e){return Bt(e,t)?function(e,t,r){return Nt(Nt({},e),{},r?{properties:Nt(Nt({},e.properties),t),geometry:r.geometry}:{properties:Nt(Nt({},e.properties),t)})}(e,r,n):e}))};var Zt=r(55105),zt=r(501262),Vt=r(399534),Ht=r(805346),Wt=r(830029),Qt=r(118027),Kt=r(757588),$t=r(472986),Xt=r.n($t),qt=r(282467),Jt=r(893379),er=r.n(Jt),tr=r(213506);er()(tr.Z,{insert:"head",singleton:!1}),tr.Z.locals;var rr=r(189734),nr=r.n(rr),or=r(921533),ir=r(656903),ar=r(210308);er()(ar.Z,{insert:"head",singleton:!1}),ar.Z.locals;var ur=r(294184),lr=r.n(ur);function cr(e){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(e)}var sr=["disabled","id","visible","onClick","active","title","buttonClassName","menuStyle","className","children","onMount"];function fr(){return fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fr.apply(this,arguments)}function pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(r),!0).forEach((function(t){yr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==cr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===cr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const gr=(0,o.forwardRef)((function(e,t){var r,n,a=e.disabled,u=e.id,l=e.visible,c=e.onClick,s=e.active,f=e.title,p=e.buttonClassName,d=void 0===p?"square-button-md":p,y=e.menuStyle,m=void 0===y?{}:y,g=e.className,v=e.children,h=e.onMount,E=void 0===h?function(){}:h,O=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,sr),S=(r=(0,o.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(r,n)||function(e,t){if(e){if("string"==typeof e)return mr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mr(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=S[0],T=S[1];return(0,o.useEffect)((function(){"function"==typeof E&&E()}),[]),!!l&&i().createElement(b.Z,null,i().createElement(Kt.Dropdown,{className:lr()(dr({"split-button":!0},g?yr({},g,!0):{})),open:w,onToggle:function(e,t){t&&T(e)}},i().createElement(Kt.Button,fr({ref:t,id:u,onClick:function(){return!a&&c()},className:d,bsStyle:s?"success":"primary"},O),f),i().createElement(Kt.Dropdown.Toggle,{bsStyle:s?"success":"primary"}),i().createElement(Kt.Dropdown.Menu,{style:m,onSelect:function(e){["number","text"].includes(e.target.type)?T(!0):T(!w)}},v)))}));var br=r(743129);function vr(e){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(e)}var hr=["position"];function Er(){return Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Er.apply(this,arguments)}function Or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(r),!0).forEach((function(t){wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tr=(0,or.Z)(ir.Z),Pr=(0,or.Z)(gr),Cr=function(e,t){return e?"featuregrid.toolbar.stopDrawGeom":t?"featuregrid.toolbar.drawGeom":"featuregrid.toolbar.addGeom"},Fr=function(e){var t=e.saving,r=e.saved;return t||r?"featuregrid.toolbar.saving":"featuregrid.toolbar.saveChanges"},Ir={editMode:function(e){var t=e.disabled,r=e.mode,n=e.isEditingAllowed,o=e.events,a=void 0===o?{}:o;return i().createElement(Tr,{id:"edit-mode",keyProp:"edit-mode",tooltipId:"featuregrid.toolbar.editMode",disabled:t,visible:"VIEW"===r&&n,onClick:a.switchEditMode,glyph:"pencil"})},filter:function(e){var t=e.isFilterActive,r=void 0!==t&&t,n=e.disabled,o=e.isSearchAllowed,a=e.mode,u=e.showAdvancedFilterButton,l=void 0===u||u,c=e.events,s=void 0===c?{}:c;return i().createElement(Tr,{id:"search",keyProp:"search",tooltipId:"featuregrid.toolbar.advancedFilter",active:r,disabled:n||!o,visible:"VIEW"===a&&l,onClick:s.showQueryPanel,glyph:"filter"})},zoomAll:function(e){var t=e.disabled,r=e.disableZoomAll,n=void 0!==r&&r,o=e.mode,a=e.events,u=void 0===a?{}:a;return i().createElement(Tr,{id:"zoom-all",keyProp:"zoom-all",tooltipId:"featuregrid.toolbar.zoomAll",disabled:t||n,visible:"VIEW"===o,onClick:u.zoomAll,glyph:"zoom-to"})},backToViewMode:function(e){var t=e.disabled,r=e.mode,n=e.hasChanges,o=e.hasNewFeatures,a=e.events,u=void 0===a?{}:a;return i().createElement(Tr,{id:"back-view",keyProp:"back-view",tooltipId:"featuregrid.toolbar.quitEditMode",disabled:t,visible:"EDIT"===r&&!n&&!o,onClick:u.switchViewMode,glyph:"arrow-left"})},addFeature:function(e){var t=e.disabled,r=e.mode,n=e.hasNewFeatures,o=e.hasChanges,a=e.hasSupportedGeometry,u=void 0===a||a,l=e.events,c=void 0===l?{}:l;return i().createElement(Tr,{id:"add-feature",keyProp:"add-feature",tooltipId:"featuregrid.toolbar.addNewFeatures",disabled:t,visible:"EDIT"===r&&!n&&!o&&u,onClick:c.createFeature,glyph:"row-add"})},drawFeature:function(e){var t=e.isDrawing,r=void 0!==t&&t,n=e.disabled,o=e.isSimpleGeom,a=e.mode,u=e.selectedCount,l=e.hasGeometry,c=e.hasSupportedGeometry,s=void 0===c||c,f=e.events,p=void 0===f?{}:f;return i().createElement(Tr,{id:"draw-feature",keyProp:"draw-feature",tooltipId:Cr(r,o),disabled:n,visible:"EDIT"===a&&1===u&&(!l||l&&!o)&&s,onClick:p.startDrawingFeature,active:r,glyph:"pencil-add"})},removeFeature:function(e){var t=e.disabled,r=e.mode,n=e.selectedCount,o=e.hasChanges,a=e.hasNewFeatures,u=e.events,l=void 0===u?{}:u;return i().createElement(Tr,{id:"remove-features",keyProp:"remove-features",tooltipId:"featuregrid.toolbar.deleteSelectedFeatures",disabled:t,visible:"EDIT"===r&&n>0&&!o&&!a,onClick:l.deleteFeatures,glyph:"trash-square"})},saveFeature:function(e){var t=e.saving,r=void 0!==t&&t,n=e.saved,o=void 0!==n&&n,a=e.disabled,u=e.mode,l=e.hasChanges,c=e.hasNewFeatures,s=e.events,f=void 0===s?{}:s;return i().createElement(Tr,{id:"save-feature",keyProp:"save-feature",tooltipId:Fr({saving:r,saved:o}),disabled:r||o||a,visible:"EDIT"===u&&l||c,active:o,onClick:f.saveChanges,glyph:"floppy-disk"})},cancelEditing:function(e){var t=e.disabled,r=e.mode,n=e.hasChanges,o=e.hasNewFeatures,a=e.events,u=void 0===a?{}:a;return i().createElement(Tr,{id:"cancel-editing",keyProp:"cancel-editing",tooltipId:"featuregrid.toolbar.cancelChanges",disabled:t,visible:"EDIT"===r&&n||o,onClick:u.clearFeatureEditing,glyph:"remove-square"})},deleteGeometry:function(e){var t=e.disabled,r=e.mode,n=e.hasGeometry,o=e.selectedCount,a=e.hasSupportedGeometry,u=void 0===a||a,l=e.events,c=void 0===l?{}:l;return i().createElement(Tr,{id:"delete-geometry",keyProp:"delete-geometry",tooltipId:"featuregrid.toolbar.deleteGeometry",disabled:t,visible:"EDIT"===r&&n&&1===o&&u,onClick:c.deleteGeometry,glyph:"polygon-trash"})},gridSettings:function(e){var t=e.disabled,r=e.isColumnsOpen,n=e.selectedCount,o=e.mode,a=e.events,u=void 0===a?{}:a;return i().createElement(Tr,{id:"grid-settings",keyProp:"grid-settings",tooltipId:"featuregrid.toolbar.hideShowColumns",disabled:t,active:r,visible:n<=1&&"VIEW"===o,onClick:u.settings,glyph:"features-grid-set"})},syncGridFilterToMap:function(e){var t=e.disabled,r=e.isSyncActive,n=void 0!==r&&r,o=e.showSyncOnMapButton,a=void 0===o||o,u=e.events,l=void 0===u?{}:u,c=e.syncPopover,s=void 0===c?{showPopoverSync:!0,dockSize:"32.2%"}:c;return i().createElement(Tr,{id:"grid-map-filter",keyProp:"grid-map-filter",tooltipId:"featuregrid.toolbar.syncOnMap",disabled:t,active:n,visible:a,onClick:l.sync,glyph:"map-filter",renderPopover:s.showPopoverSync,popoverOptions:!t&&{placement:"top",content:i().createElement("span",null,i().createElement("p",null,i().createElement(Ht.Z,{msgId:"featuregrid.toolbar.synchPopoverText"})),i().createElement("p",null,i().createElement(Kt.Checkbox,{checked:s.showAgain,onClick:l.toggleShowAgain},i().createElement(Ht.Z,{msgId:"featuregrid.toolbar.notShowAgain"})))),props:{id:"sync-popover",title:i().createElement("div",null,i().createElement(Ht.Z,{msgId:"featuregrid.toolbar.synchPopoverTitle"}),i().createElement("button",{onClick:function(){if(s.showAgain)try{(0,Dt.ac)().setItem("showPopoverSync",!1)}catch(e){console.error(e)}l.hideSyncPopover()},className:"close"},i().createElement(Kt.Glyphicon,{className:"pull-right",glyph:"1-close"}))),style:{bottom:s.dockSize}}}})},syncTimeParameter:function(e){var t=e.timeSync,r=e.showTimeSyncButton,n=void 0!==r&&r,o=e.events,a=void 0===o?{}:o;return i().createElement(Tr,{id:"timeSync-button",keyProp:"fg-timeSync-button",tooltipId:t?"featuregrid.toolbar.disableTimeSync":"featuregrid.toolbar.enableTimeSync",visible:n,active:t,onClick:function(){return a.setTimeSync&&a.setTimeSync(!t)},glyph:"time"})},snapToFeature:function(e){var t,r,n,o,a,u,l,c,s,f,p,d,y,m=e.snapping,g=e.availableSnappingLayers,b=void 0===g?[]:g,v=e.isSnappingLoading,h=e.snappingConfig,E=e.mode,O=e.mapType,S=e.editorHeight,w=e.pluginCfg,T=e.events,P=void 0===T?{}:T;return i().createElement(Pr,{id:"snap-button",keyProp:"snap-button",tooltipId:m?"featuregrid.toolbar.disableSnapping":"featuregrid.toolbar.enableSnapping",visible:"EDIT"===E&&(null===(t=null==w?void 0:w.snapTool)||void 0===t||t)&&"openlayers"===O,onClick:function(){P.toggleSnapping&&P.toggleSnapping(!m)},onMount:function(){return!h&&P.setSnappingConfig&&P.setSnappingConfig(null,null,w)},title:v?i().createElement(Xt(),{spinnerName:"ball-beat",overrideSpinnerClassName:"spinner",key:"loadingSpinner",noFadeIn:!0}):i().createElement(Kt.Glyphicon,{glyph:"magnet"}),tooltipPosition:"top",className:"snap-tool",buttonClassName:"square-button-md no-border",menuStyle:{maxHeight:"calc(".concat(Math.round(100*S),"vh - 50px)"),overflowY:"auto"},active:!!m,pullLeft:!0},i().createElement(i().Fragment,null,i().createElement("label",{className:"control-label"},i().createElement(Ht.Z,{msgId:"featuregrid.toolbar.snapToLayer"})),i().createElement(br.ZP,{clearable:!1,escapeClearsValue:!1,options:b,onChange:function(e){return P.setSnappingLayer(e.value)},value:b.find((function(e){return e.active}))})),i().createElement("label",{className:"control-label"},i().createElement(Ht.Z,{msgId:"featuregrid.toolbar.snappingSettings.header"})),i().createElement(Kt.FormGroup,null,i().createElement(Kt.Col,{xs:6},i().createElement(Kt.Checkbox,{key:"edge",checked:null===(r=null!==(n=null==h?void 0:h.edge)&&void 0!==n?n:null==w||null===(o=w.snapConfig)||void 0===o?void 0:o.edge)||void 0===r||r,inline:!0,onChange:function(e){return P.setSnappingConfig(e.target.checked,"edge",w)}},i().createElement(Ht.Z,{msgId:"featuregrid.toolbar.snappingSettings.edge"}))),i().createElement(Kt.Col,{xs:6},i().createElement(Kt.Checkbox,{key:"vertex",checked:null===(a=null!==(u=null==h?void 0:h.vertex)&&void 0!==u?u:null==w||null===(l=w.snapConfig)||void 0===l?void 0:l.vertex)||void 0===a||a,inline:!0,onChange:function(e){return P.setSnappingConfig(e.target.checked,"vertex",w)}},i().createElement(Ht.Z,{msgId:"featuregrid.toolbar.snappingSettings.vertex"}))),i().createElement("span",{className:"clearfix"})),i().createElement(Kt.FormGroup,null,i().createElement(Kt.Col,{xs:7},i().createElement("span",{className:"inline-control-label"},i().createElement(Ht.Z,{msgId:"featuregrid.toolbar.snappingSettings.pixelTolerance"}))),i().createElement(Kt.Col,{xs:5},i().createElement(Kt.FormControl,{key:"pixelTolerance",type:"number",onChange:function(e){return P.setSnappingConfig(e.target.value,"pixelTolerance",w)},defaultValue:null!==(c=null!==(s=null==h?void 0:h.pixelTolerance)&&void 0!==s?s:null==w||null===(f=w.snapConfig)||void 0===f?void 0:f.pixelTolerance)&&void 0!==c?c:10})),i().createElement("span",{className:"clearfix"})),i().createElement(Kt.FormGroup,null,i().createElement(Kt.Col,{xs:7},i().createElement("span",{className:"inline-control-label"},i().createElement(Ht.Z,{msgId:"featuregrid.toolbar.snappingSettings.loadingStrategy"}))),i().createElement(Kt.Col,{xs:5},i().createElement(Kt.FormControl,{componentClass:"select",defaultValue:null!==(p=null!==(d=null==h?void 0:h.strategy)&&void 0!==d?d:null==w||null===(y=w.snapConfig)||void 0===y?void 0:y.strategy)&&void 0!==p?p:"bbox",onChange:function(e){return P.setSnappingConfig(e.target.value,"strategy",w)}},i().createElement("option",{value:"bbox"},"bbox"),i().createElement("option",{value:"all"},"all"))),i().createElement("span",{className:"clearfix"})))}},jr=[{name:"editMode",Component:Ir.editMode},{name:"backToViewMode",Component:Ir.backToViewMode},{name:"addFeature",Component:Ir.addFeature},{name:"drawFeature",Component:Ir.drawFeature},{name:"removeFeature",Component:Ir.removeFeature},{name:"saveFeature",Component:Ir.saveFeature},{name:"cancelEditing",Component:Ir.cancelEditing},{name:"deleteGeometry",Component:Ir.deleteGeometry},{name:"filter",Component:Ir.filter},{name:"zoomAll",Component:Ir.zoomAll},{name:"gridSettings",position:900,Component:Ir.gridSettings},{name:"snap",position:1300,Component:Ir.snapToFeature},{name:"syncGridFilterToMap",position:1100,Component:Ir.syncGridFilterToMap},{name:"syncTimeParameter",Component:Ir.syncTimeParameter}].map((function(e,t){var r=e.position;return Sr(Sr({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,hr)),{},{position:null!=r?r:t})})),Ar=r(93152);const Rr={onGridSort:function(e,t){return(0,S.DY)(e,t)},onAddFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,S.a8)(e)},onTemporaryChanges:function(e){return(0,S.aT)(e)},onGridRowsUpdated:function(e,t){var r,n,o=e.fromRow,i=e.toRow,a=e.updated,u=(r=o,n=i,Array.from({length:n+1-r},(function(e,t){return t+r}))).map((function(e){return t(e)})).filter((function(e){return Object.keys(a||{}).filter((function(t){return e.properties[t]!==a[t]})).length>0}));return(0,S.nG)(u,a)},onRowsToggled:function(e,t){return(0,S.KD)(e.map((function(e){return t(e.rowIdx)})),!1)},onRowsSelected:function(e,t){return(0,S.KD)(e.map((function(e){return t(e.rowIdx)})),!0)},onRowsDeselected:function(e,t){return(0,S.gr)(e.map((function(e){return t(e.rowIdx)})))}};var Dr=r(950966);const _r=[{name:"",key:"geometry",width:35,frozen:!0,events:{onClick:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.crs,i=n.maxZoom;return e.geometry?(0,q.Px)(B()(e),o||"EPSG:4326",i):{type:"NONE"}}},formatter:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value?i().createElement(Dr.Z,{placement:"top",overlay:i().createElement(Kt.Tooltip,{id:"fe-zoom-object"},i().createElement(Ht.Z,{msgId:"featuregrid.zoomObject"}))},i().createElement(Kt.Glyphicon,{glyph:"zoom-to"})):i().createElement(Dr.Z,{placement:"top",overlay:i().createElement(Kt.Tooltip,{id:"fe-save-features"},i().createElement(Ht.Z,{msgId:"featuregrid.missingGeometry"}))},i().createElement(Kt.Glyphicon,{glyph:"exclamation-mark"}))}}],Gr={onPageChange:function(e,t){return(0,S.oO)(e,t)},moreFeatures:S.zd},kr={createFeature:function(){return(0,S.lx)([{}])},saveChanges:function(){return(0,S.$S)()},clearFeatureEditing:function(){return(0,S.Pv)("clearConfirm",!0)},deleteGeometry:function(){return(0,S.pX)()},deleteFeatures:function(){return(0,S.Pv)("deleteConfirm",!0)},settings:function(){return(0,S.Pv)("settings")},switchEditMode:function(){return(0,S.lg)()},startEditingFeature:function(){return(0,S.sY)()},startDrawingFeature:function(){return(0,S.kA)()},switchViewMode:function(){return(0,S.nY)()},onClose:function(){return(0,S.JK)()},showQueryPanel:function(){return(0,S.MY)()},zoomAll:function(){return(0,S.ve)()},sync:function(){return(0,$.XO)()},setTimeSync:S.Yb,hideSyncPopover:function(){return(0,S.Pl)()},toggleShowAgain:function(){return(0,S.Ib)()},toggleSnapping:function(){return(0,V.oJ)()},setSnappingLayer:function(e){return(0,V.k4)(e)},setSnappingConfig:function(e,t,r){return(0,V.Li)(e,t,r)}};var Mr=Rr,Nr=_r,xr=Gr,Lr=kr;const Ur=(0,a.connect)((function(e){return{attributes:(0,ie.o)(e)}}),{onChange:function(e,t){return(0,S.an)(e,"hide",t)}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t,n=e.titleMsg,o=void 0===n?"featuregrid.columns":n,a=e.onChange,u=void 0===a?function(){}:a,l=e.attributes,c=void 0===l?[]:l;return i().createElement("div",{className:"bg-body data-attribute-selector",style:r},i().createElement("h4",{className:"text-center"},i().createElement("strong",null,i().createElement(Ht.Z,{msgId:o}))),i().createElement("div",null,c.map((function(e){return i().createElement(Kt.Checkbox,{key:e.attribute||e.name,checked:!e.hide,onChange:function(){return u(e.attribute,!e.hide)}},e.label||e.attribute)}))))}));function Br(e){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Br(e)}function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yr.apply(this,arguments)}function Zr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(r),!0).forEach((function(t){Vr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Br(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Br(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Br(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hr=(0,a.connect)((0,u.zB)({loading:ue.gy}))(Wt.Z),Wr=(0,a.connect)((0,u.zB)({saving:ie.uz,saved:ie.Ci,mode:ie.eK,hasChanges:ie.LB,hasNewFeatures:ie.b4,hasGeometry:ie.OK,syncPopover:function(e){return{showAgain:(0,ie.tU)(e),showPopoverSync:(0,ie.Gl)(e),dockSize:(0,Zt.ic)(e,{dockSize:!0}).dockSize+3.2+"%"}},isDrawing:ie.Ae,isSimpleGeom:ie.He,selectedCount:ie.jY,disableToolbar:function(e){return e&&e.featuregrid&&e.featuregrid.disableToolbar||!(0,ue.hk)(e,(0,ie.kd)(e))},results:ue.Mz,isSyncActive:ue.M7,isColumnsOpen:function(e){return e&&e.featuregrid&&e.featuregrid.tools&&e.featuregrid.tools.settings},disableZoomAll:function(e){return e&&e.featuregrid.virtualScroll||0===(0,ue.F0)(e).features.length},isSearchAllowed:function(e){return!(0,Ar.c0)(e)},isEditingAllowed:ie.nq,hasSupportedGeometry:ie.bq,isFilterActive:ue.VD,showTimeSyncButton:ie.ou,timeSync:ie.DK,snapping:se.jP,availableSnappingLayers:se.$N,isSnappingLoading:se.Qp,snappingConfig:se.l,mapType:Ar.$v,editorHeight:ie.P4}),(function(e){return{events:(0,l.DE)(Lr,e)}}))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.toolbarItems,r=void 0===t?[]:t;return i().createElement(Kt.ButtonGroup,{id:"featuregrid-toolbar",className:"featuregrid-toolbar featuregrid-toolbar-margin"},nr()(jr.concat(r),["position"]).map((function(t){var r,n=t.Component;return i().createElement(n,Er({},e,{mode:null!==(r=null==e?void 0:e.mode)&&void 0!==r?r:"VIEW",disabled:e.disableToolbar}))})))})),Qr=(0,a.connect)((0,u.P1)(ie.Sj,(function(e){return{title:e}})),{onClose:Lr.onClose})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{onDownloadToggle:function(){}};return i().createElement("div",{className:"data-grid-top-toolbar"},i().createElement("div",{className:"data-grid-top-toolbar-left"},e.children),!e.hideLayerTitle&&i().createElement("div",{className:"data-grid-top-toolbar-title"},e.title),i().createElement("div",{className:"data-grid-top-toolbar-right"},!e.hideCloseButton&&i().createElement(qt.Z,{onClick:e.onClose,className:"square-button-md no-border featuregrid-top-toolbar-margin"},i().createElement(Kt.Glyphicon,{glyph:"1-close"}))))})),Kr=(0,a.connect)((0,u.P1)((0,u.zB)(ue.b0),ue.gy,(function(e){return e&&e.featuregrid&&!!e.featuregrid.virtualScroll}),ie.jY,(function(e,t,r,n){return zr(zr({},e),{},{selected:n,loading:t,virtualScroll:r})})),xr)((function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,onPageChange:function(){}},n=(0,O.DR)(r),o=n.page,a=void 0===o?0:o,u=n.size,l=void 0===u?0:u,c=n.resultSize,s=void 0===c?0:c,f=n.maxPages,p=void 0===f?0:f,d=n.total,y=void 0===d?0:d;return i().createElement(Kt.Grid,{className:"bg-body data-grid-bottom-toolbar",fluid:!0,style:{width:"100%"}},i().createElement(Kt.Row,{className:"featuregrid-toolbar-margin"},i().createElement(Kt.Col,{md:3},i().createElement("span",null,i().createElement(Ht.Z,{msgId:r.virtualScroll?"featuregrid.resultInfoVirtual":"featuregrid.resultInfo",msgParams:{start:a*l+1,end:a*l+s,total:y,selected:null!==(e=r.selected)&&void 0!==e?e:0}}))," ",r.selected>0?i().createElement("span",null,i().createElement(Ht.Z,{msgId:"featuregrid.selectedInfo",msgParams:{selected:null!==(t=r.selected)&&void 0!==t?t:0}})):null),r.virtualScroll?null:i().createElement(Kt.Col,{className:"text-center",md:6},i().createElement(qt.Z,{key:"first-page",onClick:function(){return r.onPageChange(0)},disabled:0===a,className:"no-border first-page"},i().createElement(Kt.Glyphicon,{glyph:"step-backward"})),i().createElement(qt.Z,{key:"prev-page",onClick:function(){return r.onPageChange(a-1)},disabled:0===a,className:"no-border prev-page"},i().createElement(Kt.Glyphicon,{glyph:"chevron-left"})),i().createElement("span",{key:"page-info"},i().createElement(Ht.Z,{msgId:"featuregrid.pageInfo",msgParams:{page:a+1,totalPages:p+1}})),i().createElement(qt.Z,{key:"next-page",onClick:function(){return r.onPageChange(a+1)},className:"no-border next-page",disabled:a>=p},i().createElement(Kt.Glyphicon,{glyph:"chevron-right"})),i().createElement(qt.Z,{key:"last-page",onClick:function(){return r.onPageChange(p)},className:"no-border last-page",disabled:a>=p},i().createElement(Kt.Glyphicon,{glyph:"step-forward"})))," ",i().createElement(Kt.Col,{md:3},r.loading?i().createElement("span",{style:{float:"right"}},i().createElement(Ht.Z,{msgId:"loading"}),i().createElement(Xt(),{spinnerName:"circle",style:{float:"right"},noFadeIn:!0})):null)))})),$r=(0,a.connect)((0,u.P1)(ie.jY,(function(e){return{count:e}})),{onClose:function(){return(0,S.Pv)("deleteConfirm",!1)},onConfirm:function(){return(0,S.Uz)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,n=e.saving,o=void 0!==n&&n,a=e.count,u=e.onConfirm,l=void 0===u?function(){}:u;return i().createElement(Vt.Z,null,i().createElement(zt.Z,{show:!0,onClose:r,onConfirm:l,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:i().createElement(Ht.Z,{msgId:"featuregrid.deleteButton"}),confirmButtonDisabled:o},i().createElement(Ht.Z,{msgId:"featuregrid.delete",msgParams:{count:a}})))})),Xr=(0,a.connect)((0,u.P1)(ie.jY,(function(e){return{count:e}})),{onClose:function(){return(0,S.Pv)("clearConfirm",!1)},onConfirm:function(){return(0,S.oL)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,n=e.saving,o=void 0!==n&&n,a=e.onConfirm,u=void 0===a?function(){}:a;return i().createElement(Vt.Z,null,i().createElement(zt.Z,{draggable:!1,show:!0,onClose:r,onConfirm:u,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:i().createElement(Ht.Z,{msgId:"featuregrid.yesButton"}),confirmButtonDisabled:o,closeText:i().createElement(Ht.Z,{msgId:"featuregrid.noButton"})},i().createElement(Ht.Z,{msgId:"featuregrid.clear"})))})),qr=(0,a.connect)((function(){return{}}),{onClose:function(){return(0,S.Ap)()},onConfirm:function(){return(0,S.YV)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,n=e.saving,o=void 0!==n&&n,a=e.onConfirm,u=void 0===a?function(){}:a;return i().createElement(Vt.Z,null,i().createElement(zt.Z,{show:!0,onClose:r,onConfirm:u,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:i().createElement(Ht.Z,{msgId:"featuregrid.yesButton"}),confirmButtonDisabled:o,closeText:i().createElement(Ht.Z,{msgId:"featuregrid.noButton"})},i().createElement(Ht.Z,{msgId:"featuregrid.featureClose"})))})),Jr={settings:Ur},en={deleteConfirm:$r,featureCloseConfirm:qr,clearConfirm:Xr},tn={settings:{style:{padding:"0 12px",overflow:"auto",flex:"0 0 14em",boxShadow:"inset 0px 0px 10px rgba(0, 0, 0, 0.4)",height:"100%",minWidth:195}}},rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter((function(t){return e[t]&&Jr[t]})).map((function(e){var t=Jr[e];return i().createElement(t,Yr({key:e},tn[e]||{}))}))},nn=function(e){var t=e.hideCloseButton,r=e.hideLayerTitle,n=e.toolbarItems,o=e.pluginCfg;return i().createElement(Qr,{hideCloseButton:t,hideLayerTitle:r},i().createElement(Wr,{pluginCfg:o,toolbarItems:n}))},on=function(e){return e.focusOnEdit&&e.hasChanges||e.newFeatures.length>0?null:i().createElement(Kr,null)},an=(0,u.P1)((function(e){return e}),(function(e){return e?((0,Q.getFeatureTypeProperties)(e)||[]).reduce((function(e,t){return zr(zr({},e),{},Vr({},t.name,(0,a.connect)((0,u.P1)((function(e){return(0,ie.g5)(e,t.name)}),ie.eK,(function(e,r){var n=zr({value:e&&(e.rawValue||e.value)},(0,Q.isGeometryType)(t)?{filterEnabled:null==e?void 0:e.enabled,filterDeactivated:null==e?void 0:e.deactivated}:{}),o=(0,Q.isGeometryType)(t)?{}:{disabled:!0,tooltipMsgId:"featuregrid.filter.tooltips.editMode"};return"EDIT"===r?zr(zr({},n),o):n})))((0,Qt.Q)((0,Q.isGeometryType)(t)?"geometry":t.localType,{name:t.name}))))}),{}):{}}));function un(e){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}function ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(r),!0).forEach((function(t){sn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ln(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==un(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==un(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===un(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fn.apply(this,arguments)}var pn=[],dn={},yn=(0,a.connect)((0,u.P1)(ie.P4,(function(e){return(0,Zt.ic)(e,{transform:!0})}),(function(e,t){return{size:e,dockStyle:t}})))(g.default),mn=(0,u.P1)((function(e){return s()(e,"featuregrid.open")}),(function(e){return s()(e,"featuregrid.customEditorsOptions")}),(function(e){return s()(e,"queryform.autocompleteEnabled")}),(function(e){return(0,ue.UM)(e)}),(function(e){return(0,ue.HY)(e)}),(function(e){return s()(e,"featuregrid.features")||pn}),ue.Qs,(function(e){return s()(e,"featuregrid.attributes")}),(function(e){return s()(e,"featuregrid.tools")}),ie._w,ie.eK,ie.eO,ie.kG,ie.LB,(function(e){return s()(e,"featuregrid.focusOnEdit",!1)}),(function(e){return s()(e,"featuregrid.enableColumnFilters")}),(0,u.zB)(ue.b0),(function(e){return s()(e,"featuregrid.pages")}),(function(e){return s()(e,"featuregrid.pagination.size")}),(function(e,t,r,n,o){var i=arguments.length>11?arguments[11]:void 0,a=arguments.length>16?arguments[16]:void 0,u=arguments.length>17?arguments[17]:void 0,l=arguments.length>18?arguments[18]:void 0;return{open:e,customEditorsOptions:t,autocompleteEnabled:r,url:n,typeName:o,hasChanges:arguments.length>13?arguments[13]:void 0,newFeatures:arguments.length>12&&void 0!==arguments[12]?arguments[12]:pn,features:arguments.length>5&&void 0!==arguments[5]?arguments[5]:pn,describe:arguments.length>6?arguments[6]:void 0,attributes:arguments.length>7?arguments[7]:void 0,tools:arguments.length>8?arguments[8]:void 0,select:arguments.length>9?arguments[9]:void 0,mode:arguments.length>10?arguments[10]:void 0,focusOnEdit:arguments.length>14?arguments[14]:void 0,enableColumnFilters:arguments.length>15?arguments[15]:void 0,changes:(0,O.rK)(i),pagination:a,pages:u,size:l}})),gn=(0,m.compose)((0,a.connect)((function(){return{}}),(function(e){return{onMount:(0,l.DE)(S.Z_,e),setSyncTool:(0,l.DE)(S.gL,e)}})),(0,m.lifecycle)({componentDidMount:function(){this.props.onMount(p()(this.props,["showFilteredObject","showTimeSync","timeSync","customEditorsOptions"])),this.props.enableMapFilterSync?this.props.setSyncTool(!0):this.props.setSyncTool(!1)},componentDidUpdate:function(e){var t=p()(this.props,["showFilteredObject","showTimeSync","timeSync","customEditorsOptions"]),r=p()(e,["showFilteredObject","showTimeSync","timeSync","customEditorsOptions"]);y()(t,r)||this.props.onMount(t),this.props.enableMapFilterSync?this.props.setSyncTool(!0):this.props.setSyncTool(!1)}}),(0,a.connect)(mn,(function(e){return{gridEvents:(0,l.DE)(Mr,e),pageEvents:(0,l.DE)(xr,e),initPlugin:(0,l.DE)((function(e){return(0,S.QT)(e)}),e),toolbarEvents:(0,l.DE)(Lr,e),gridTools:Nr.map((function(t){return cn(cn({},t),{},{events:(0,l.DE)(t.events,e)})})),onSizeChange:function(){return e(S.Ox.apply(void 0,arguments))}}})))((function(){var e,t,r,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tools:dn,dialogs:dn,select:pn},u=null===(e=a.virtualScroll)||void 0===e||e,l=null==a||null===(t=a.pluginCfg)||void 0===t?void 0:t.maxZoom,c={dimMode:"none",defaultSize:.35,fluid:!0,isVisible:a.open,maxDockSize:.7,minDockSize:.1,position:"bottom",setDockSize:function(){},zIndex:1030},s=(null!==(r=null==a?void 0:a.items)&&void 0!==r?r:[]).filter((function(e){return"toolbar"===e.target}));return(0,o.useEffect)((function(){a.initPlugin({virtualScroll:u,editingAllowedRoles:a.editingAllowedRoles,maxStoredPages:a.maxStoredPages})}),[u,(null!==(n=a.editingAllowedRoles)&&void 0!==n?n:[]).join(","),a.maxStoredPages]),i().createElement(yn,fn({},c,{onSizeChange:function(e){a.onSizeChange(e,c)}}),a.open&&i().createElement(b.Z,null,(function(e){var t=e.height;return i().createElement(h.Z,{className:"feature-grid-container",key:"feature-grid-container",height:t-74,header:nn({toolbarItems:s,hideCloseButton:a.hideCloseButton,hideLayerTitle:a.hideLayerTitle,pluginCfg:a.pluginCfg}),columns:rn(a.tools),footer:on(a)},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter((function(t){return e[t]&&en[t]})).map((function(e){var t=en[e];return i().createElement(t,{key:e})}))}(a.tools),i().createElement(v.Z,{showCheckbox:a.showCheckbox,editingAllowedRoles:a.editingAllowedRoles,customEditorsOptions:a.customEditorsOptions,autocompleteEnabled:a.autocompleteEnabled,url:a.url,typeName:a.typeName,filterRenderers:an(a.describe),enableColumnFilters:a.enableColumnFilters,emptyRowsView:Hr,focusOnEdit:a.focusOnEdit,newFeatures:a.newFeatures,changes:a.changes,mode:a.mode,select:a.select,key:"feature-grid-container",columnSettings:a.attributes,gridEvents:a.gridEvents,pageEvents:a.pageEvents,describeFeatureType:a.describe,features:a.features,minHeight:600,tools:a.gridTools,pagination:a.pagination,pages:a.pages,virtualScroll:u,maxStoredPages:a.maxStoredPages,vsOverScan:a.vsOverScan,scrollDebounce:a.scrollDebounce,size:a.size,actionOpts:{maxZoom:l}}))})))}));const bn=(0,E.rx)("FeatureEditor",{component:gn,epics:n,reducers:{featuregrid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.Xp:return z()({},e,{showPopoverSync:null===(0,Dt.ac)().getItem("showPopoverSync")||"true"===(0,Dt.ac)().getItem("showPopoverSync"),editingAllowedRoles:t.options.editingAllowedRoles||e.editingAllowedRoles||["ADMIN"],virtualScroll:!!t.options.virtualScroll,maxStoredPages:t.options.maxStoredPages||5});case S.ye:case S.gG:return z()({},e,{pagination:{page:void 0!==t.page?t.page:e.pagination.page,size:void 0!==t.size?t.size:e.pagination.size}});case S.fT:var r;return Nt(Nt({},e),{},{pagination:Nt(Nt({},null!==(r=e.pagination)&&void 0!==r?r:{}),{},{size:t.size})});case S.Oj:var n=t.features.filter((function(e){return"empty_row"!==e.id}));return e.multiselect&&t.append?z()({},e,{select:t.append?Ft()([].concat(Gt(e.select),Gt(n)),"id"):n}):n&&e.select&&e.select[0]&&n[0]&&1===e.select.length&&Ut(n[0],e.select[0])?e:z()({},e,{select:n||[]});case S.v6:var o=e.select.filter((function(e){return!Bt(e,t.features)})),i=t.features.filter((function(t){return!Bt(t,e.select)})),a=o.concat(i||[]);return z()({},e,{select:a});case S.jp:return z()({},e,{select:e.select.filter((function(e){return!Bt(e,t.features)}))});case S.DU:var u,l;return z()({},e,{multiselect:null!==(u=t.multiselect)&&void 0!==u?u:e.multiselect,showCheckbox:null!==(l=t.showCheckbox)&&void 0!==l?l:e.showCheckbox});case S.r:return z()({},e,{customEditorsOptions:t.payload});case S.gJ:return z()({},e,t.options||{});case S.CM:return z()({},e,{select:[],changes:[]});case S.iQ:return z()({},e,{features:t.features});case S.dZ:return z()({},e,{dockSize:t.dockSize});case S.$:return z()({},e,{selectedLayer:t.id});case S.qw:return z()({},e,{tools:Nt(Nt({},e.tools),{},xt({},t.tool,void 0===t.value?!(e.tools&&e.tools[t.tool]):t.value))});case S.f$:return z()({},e,{attributes:Nt(Nt({},e.attributes),{},xt({},t.name,Nt(Nt({},e.attributes&&e.attributes[t.name]||{}),{},xt({},t.key,t.value||e.attributes&&e.attributes[t.name]&&!e.attributes[t.name][t.key]))))});case S.aO:return z()({},e,{showPopoverSync:null!==(0,Dt.ac)().getItem("showPopoverSync")?"true"===(0,Dt.ac)().getItem("showPopoverSync"):t.mode!==S.EH.EDIT,tools:t.mode===S.EH.EDIT?{}:e.tools,mode:t.mode,multiselect:t.mode===S.EH.EDIT,drawing:!1});case S.K8:var c=t.features.filter((function(e){return e._new}))||[];return z()({},e,{newFeatures:c.length>0?Yt(e.newFeatures,c,t.updated,null):e.newFeatures,changes:[].concat(Gt(e&&e.changes||[]),Gt(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:t.updated}}))))});case S.AH:return z()({},e,{saving:!0,loading:!0});case S.AY:return z()({},e,{deleteConfirm:!1,saved:!0,saving:!1,drawing:!1,loading:!1});case S.yi:return z()({},e,{saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[]});case S.IN:var f=Rt().v1();return z()({},e,{newFeatures:t.features.map((function(e){return Nt(Nt({},e),{},{_new:!0,id:e.id?e.id:f,type:"Feature",geometry:e.geometry?e.geometry:null})})),select:t.features.map((function(e){return Nt(Nt({},e),{},{_new:!0,id:e.id?e.id:f,type:"Feature",geometry:e.geometry?e.geometry:null})}))});case S.SW:return z()({},e,{deleteConfirm:!1,saving:!1,loading:!1,drawing:!1});case S.DI:var p=t.features.filter((function(e){return e._new}))||[];return z()({},e,{newFeatures:p.length>0?Yt(e.newFeatures,p,null,{geometry:Nt({},C()(p).geometry)}):e.newFeatures,changes:t.features.filter((function(e){return!e._new})).map((function(e,r){return{id:e.id,updated:{geometry:t.features[r].geometry}}})),drawing:!1});case S.oh:var d=t.features.filter((function(e){return e._new}))||[];return z()({},e,{newFeatures:d.length>0?Yt(e.newFeatures,d,null,{geometry:null}):e.newFeatures,changes:[].concat(Gt(e&&e.changes||[]),Gt(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:{geometry:null}}}))))});case $.u7:return z()({},e,{localType:s()(t,"featureType.original.featureTypes[0].properties[1].localType")});case S._9:return z()({},e,{drawing:!e.drawing});case S.$O:return z()({},e,{open:!0});case S.sF:return z()({},e,{open:!1,pagination:{page:0,size:e.pagination.size},mode:S.EH.VIEW,tools:{},saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[]});case S.MK:return z()({},e,{disableToolbar:t.disabled});case S.ut:return z()({},e,{canEdit:t.permission.canEdit});case V.hZ:return"clean"===t.status?z()({},e,{drawing:!1}):e;case S._u:var y=(t.update||{}).attribute;if(y&&t.append){var m=e.filters[y].value,g=[];null!=m&&m.attribute&&(g=[m]),jt()(m)&&(g=m);var b=[].concat(Gt(g),[t.update.value]);return z()({},e,{filters:xt({},y,{attribute:y,enabled:!0,type:"geometry",operator:"OR",value:b})})}return y?z()({},e,{filters:Nt(Nt({},e.filters),{},xt({},y,t.update))}):e;case $.Yx:return z()({},e,{filters:{}});case $.VN:var v;return Nt(Nt({},e),{},{useLayerFilter:null!==(v=t.useLayerFilter)&&void 0!==v?v:e.useLayerFilter});case S.DA:var h=t.dockProps&&t.dockProps.maxDockSize,E=t.dockProps&&t.dockProps.minDockSize,O=h&&E&&E<=t.size&&h>=t.size&&t.size||h&&h<t.size&&h||E&&E>t.size&&E||t.size;return z()({},e,{dockSize:O});case S.Lz:return z()({},e,{advancedFilters:z()({},e.advancedFilters,xt({},e.selectedLayer,t.filterObj))});case S.Jb:return z()({},e,{features:t.features||[],pages:t.pages||[]});case S.yA:return z()({},e,{showPopoverSync:!1});case S.sK:return z()({},e,{showAgain:!e.showAgain});case S.d:return z()({},e,{timeSync:t.value});default:return e}}},containers:{TOC:{doNotHide:!0,name:"FeatureEditor"}}})},120096:(e,t,r)=>{"use strict";r.d(t,{lM:()=>p,jP:()=>d,Qp:()=>y,l:()=>m,$N:()=>g});var n=r(227361),o=r.n(n),i=r(513218),a=r.n(i),u=r(675110),l=r(731255),c=r(784715),s=r(624262),f=r(308316),p=function(e){var t,r;return!(null==e||null===(t=e.draw)||void 0===t||!t.snappingLayer)&&(null!==(r=(0,u.CA)(e,e.draw.snappingLayer))&&void 0!==r?r:(0,u.iv)(e,e.draw.snappingLayer))},d=function(e){return o()(e,"draw.snapping",!1)},y=function(e){return o()(e,"draw.snappingIsLoading",!1)},m=function(e){return o()(e,"draw.snapConfig",!1)},g=(0,c.o)((function(e,t){return e===t||a()(e)&&a()(t)&&(null==e?void 0:e.id)===(null==t?void 0:t.id)&&(null==e?void 0:e.title)===(null==t?void 0:t.title)}))([u.l2,u.KL,l.Li,p,m,f.Pz],(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=null==n?void 0:n.id,u=null==r?void 0:r.id,l=t.filter((function(e){var t;return(null!==(t=null==o?void 0:o.additionalLayers)&&void 0!==t?t:[]).includes(e.id)})).map((function(e){return e.options})).concat(e);return(u?[{value:u,label:(0,s.in)(r,i),active:u===a}]:[]).concat(l.map((function(e){var t;return!(e.id===u||!["wms","wfs","vector"].includes(null==e?void 0:e.type)||"wms"===(null==e?void 0:e.type)&&"wfs"!==(null==e||null===(t=e.search)||void 0===t?void 0:t.type)||"background"===e.group||!e.visibility)&&{value:e.id,label:(0,s.in)(e,i),active:e.id===a}})).filter(Boolean))}))},651751:(e,t,r)=>{var n=r(834387),o=n.filter,i=n.fidFilter;e.exports={fidFilter:i,filter:o}},439156:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=r(102245),l=r(984596),c=r(378889).wfsToGmlVersion;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wfsVersion,r=void 0===t?"1.1.0":t,n=e.gmlVersion,o=e.filterNS,a=e.wfsNS,s=void 0===a?"wfs":a,f=n;!f&&r?f=c(r):f||(f="3.1.1");var p=function(e){return l(e).map((function(e){return"<".concat("2.0"===r?"fes":"ogc",":PropertyName>").concat(e,"</").concat("2.0"===r?"fes":"ogc",":PropertyName>")})).join("")};return i(i({propertyName:p},u({gmlVersion:f,wfsVersion:r,filterNS:o||"2.0"===r?"fes":"ogc"})),{},{getFeature:function(e,t){return"<".concat(s,":GetFeature ").concat(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.viewParams,i=n.resultType,a=n.outputFormat,u=n.startIndex,l=n.maxFeatures;return(0===r.indexOf("1.")?'service="WFS" version="'+(t=r)+'" '+("1.0.0"===t?'outputFormat="GML2" ':"")+'xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs '+"http://schemas.opengis.net/wfs/".concat(t,"1.0.0"===t?'/WFS-basic.xsd"':'/wfs.xsd"'):function(e){return'service="WFS" version="'+e+'" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd"'}(r))+(i?' resultType="'.concat(i,'"'):"")+(a?' outputFormat="'.concat(a,'"'):"")+(u||0===u?' startIndex="'.concat(u,'"'):"")+(l||0===l?" ".concat((e=l,0===r.indexOf("2.")?'count="'.concat(e,'"'):'maxFeatures="'.concat(e,'"'))):"")+(o?' viewParams="'.concat(o,'"'):"")}(t),">").concat(Array.isArray(e)?e.join(""):e,"</").concat(s,":GetFeature>")},sortBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ASC";return"<".concat(s,":SortBy><").concat(s,":SortProperty>").concat(p(e),"<").concat(s,":SortOrder>").concat(t,"</").concat(s,":SortOrder></").concat(s,":SortProperty></").concat(s,":SortBy>")},query:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).srsName,o=void 0===n?"EPSG:4326":n;return"<".concat(s,":Query ").concat("2.0"===r?"typeNames":"typeName",'="').concat(e,'" ').concat("native"!==o?'srsName="'.concat(o,'"'):"",">")+"".concat(Array.isArray(t)?t.join(""):t)+"</".concat(s,":Query>")}})}},750937:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=["wfsVersion","wfsNS"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=r(227361),s=r(799767),f=s.insert,p=s.feature,d=s.attribute,y=r(199381).transaction,m=r(550525),g=m.deleteFeaturesByFilter,b=m.deleteFeature,v=r(516685),h=v.update,E=v.propertyChange,O=r(378889),S=O.getPropertyDesciptor,w=O.getValue,T=O.findGeometryProperty,P=O.featureTypeSchema,C=r(439156),F=function(e,t){return t&&t.length>0?[e].concat(function(e){if(Array.isArray(e))return l(e)}(r=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):e;var r},I=function(e){this.version=e},j=function(e){return c(e,"featureTypes[0].typeName")},A=function(e){return e.targetPrefix?"".concat(e.targetPrefix,":").concat(j(e)):j(e)},R=function(e,t){return e.geometry_name||T(t).name};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.wfsVersion,n=void 0===r?"1.1.0":r,i=t.wfsNS,u=void 0===i?"wfs":i,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,o);if("1.1.0"!==n)throw new I(n);var c=function(t){return p(e.targetPrefix,j(e),Object.keys(t.properties||[]).filter((function(t){return S(t,e)})).map((function(r){return d(e.targetPrefix,r,w(t.properties[r],r,e))})).concat(t.geometry?d(e.targetPrefix,R(t,e),w(t.geometry,R(t,e),e)):[]))},s=function(e){return e.features?e.features.map(c):c(e)};return a(a({},C(a(a({},l),{},{wfsVersion:n,wfsNS:u}))),{},{insert:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return f(u,Array.isArray(F(e,r))?F(e,r).map(s):s(e))},getPropertyName:function(t){return function(e,t){return"geometry"===e||e===R({},t)?R({},t):e}(t,e)},deleteByFilter:function(t){return g(u,t,A(e))},deleteFeature:function(t){return b(u,t,A(e))},update:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return h(u,A(e),F(t,n))},propertyChange:function(t,r){return E(u,t,w(r,t,e))},transaction:function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return y(F(t,o),P(e),n,u)}})}},550525:(e,t,r)=>{var n=r(651751).fidFilter,o=function(e,t,r){return"<".concat(e,':Delete typeName="').concat(r,'">').concat(t,"</").concat(e,":Delete>")},i=function(e,t,r){return o(e,n("ogc",t),r)};e.exports={deleteFeaturesByFilter:o,deleteById:i,deleteFeature:function(e,t,r){return i(e,t.features&&1===t.features.length?t.features[0].id:t.id,r)}}},799767:e=>{var t=function(e,t,r){return"<".concat(e?e+":"+t:t,">").concat(Array.isArray(r)?r.join(""):r,"</").concat(e?e+":"+t:t,">")},r=t,n=t;e.exports={insert:function(e,t){return"<".concat(e,":Insert>").concat(Array.isArray(t)?t.join(""):t,"</").concat(e,":Insert>")},feature:n,attribute:r}},199381:e=>{e.exports={transaction:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.wfsNS,o=void 0===n?"wfs":n,i=r.wfsVersion,a=void 0===i?"1.1.0":i;return"<".concat(o,":Transaction ")+'service="WFS" '+'version="'.concat(a,'" ')+"xmlns:".concat(o,'="http://www.opengis.net/wfs" ')+'xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs" '+"".concat(t,">")+"".concat(Array.isArray(e)?e.join(""):e)+"</".concat(o,":Transaction>")}}},516685:e=>{e.exports={update:function(e,t,r){return"<".concat(e,':Update typeName="').concat(t,'">').concat(Array.isArray(r)?r.join(""):r,"</wfs:Update>")},propertyChange:function(e,t,r){return"<".concat(e,":Property>")+"<".concat(e,":Name>").concat(t,"</").concat(e,":Name>")+"<".concat(e,":Value>").concat(r,"</").concat(e,":Value>")+"</".concat(e,":Property>")}}},210308:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"#featuregrid-toolbar .snap-tool.split-button .dropdown-menu {\n  min-width: 250px;\n  min-height: 200px;\n  overflow: hidden !important;\n}\n#featuregrid-toolbar .snap-tool.split-button .dropdown-menu > label,\n#featuregrid-toolbar .snap-tool.split-button .dropdown-menu .form-group > label {\n  padding: 3px 10px;\n  margin-bottom: 0;\n}\n#featuregrid-toolbar .snap-tool.split-button .dropdown-menu .Select {\n  margin: 0 15px;\n}\n#featuregrid-toolbar .snap-tool.split-button .Select-menu-outer .Select-menu {\n  overflow: auto;\n  max-height: 150px;\n}\n",""]);const i=o},213506:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"\n.msgapi .featuregrid-toolbar {\n    margin-top: 5px;\n    margin-bottom: 5px;\n}\n\n.msgapi #featuregrid-toolbar .btn {\n    overflow: hidden;\n}\n\n.msgapi #featuregrid-toolbar .spinner {\n    margin: 0 auto;\n    width: 100%;\n}\n\n.msgapi #featuregrid-toolbar .spinner > div {\n    background-color: white;\n    width: 8px;\n    height: 8px;\n}\n",""]);const i=o},945177:(e,t,r)=>{"use strict";var n=r(595318);t.__esModule=!0,t.default=void 0;var o,i=n(r(250139)),a="clearTimeout",u=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-c)),n=setTimeout(e,r);return c=t,n},l=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=l(e,"request");if(t in window)return a=l(e,"cancel"),u=function(e){return window[t](e)}}));var c=(new Date).getTime();(o=function(e){return u(e)}).cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)};var s=o;t.default=s,e.exports=t.default},93054:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=function(e){if("function"!=typeof e)throw new TypeError("You must provide a valid moment object");var t="function"==typeof e().locale?"locale":"lang";if(!e.localeData)throw new TypeError("The Moment localizer depends on the `localeData` api, please provide a moment object v2.2.0 or higher");function r(r,n,o){return r?e(n,o)[t](r):e(n,o)}var n={formats:{date:"L",time:"LT",default:"lll",header:"MMMM YYYY",footer:"LL",weekday:"dd",dayOfMonth:"DD",month:"MMM",year:"YYYY",decade:function(t,r,n){return n.format(t,"YYYY",r)+" - "+n.format(function(t){return e(t).add(10,"year").add(-1,"millisecond").toDate()}(t),"YYYY",r)},century:function(t,r,n){return n.format(t,"YYYY",r)+" - "+n.format(function(t){return e(t).add(100,"year").add(-1,"millisecond").toDate()}(t),"YYYY",r)}},firstOfWeek:function(t){return e.localeData(t).firstDayOfWeek()},parse:function(e,t,n){if(!e)return null;var o=r(n,e,t);return o.isValid()?o.toDate():null},format:function(e,t,n){return r(n,e).format(t)}};return o.default.setDateLocalizer(n),n};var n,o=(n=r(577036))&&n.__esModule?n:{default:n};e.exports=t.default}}]);