(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[55687],{581859:(e,t,r)=>{"use strict";r.d(t,{Z:()=>X});var n=r(124852),o=r.n(n),i=r(188539),c=r(675263),l=r.n(c),p=r(717378),u=r(757588),a=r(805346),s=r(950966);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function h(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(l,e);var t,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(i){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){var e=void 0===this.props.node.expanded||this.props.node.expanded;return o().createElement(s.Z,{placement:"bottom",overlay:o().createElement(u.Tooltip,{id:"toc-status-icon"},o().createElement(a.Z,{msgId:e?"toc.statusIconOpen":"toc.statusIconClose"}))},o().createElement(u.Glyphicon,{onClick:this.props.onClick,className:"toc-status-icon",glyph:e?"folder-open":"folder-close"}))}}])&&y(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);h(g,"propTypes",{node:l().object,onClick:l().func}),h(g,"inheritedPropTypes",["node","expanded"]),h(g,"defaultProps",{node:null,onClick:function(){}});const v=g;var O=r(359112);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T(n.key),n)}}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(e,t,r){return(t=T(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===w(t)?t:String(t)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(l,e);var t,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(n);if(i){var r=S(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){var e=this,t=void 0===this.props.node.expanded||this.props.node.expanded,r=(0,O.BC)(this.props),n=r.title,i=r.tooltipText;return this.props.tooltip&&i?o().createElement(s.Z,{placement:this.props.node.tooltipPlacement||"top",overlay:o().createElement(u.Tooltip,{id:"tooltip-layer-group"},i)},o().createElement("div",{style:this.props.style},o().createElement("span",{className:"toc-group-title",onClick:this.props.onSelect?function(t){return e.props.onSelect(e.props.node.id,"group",t.ctrlKey)}:function(){}},n),o().createElement(v,{onClick:function(){return e.props.onClick(e.props.node.id,t)},expanded:t,node:this.props.node}))):o().createElement("div",{style:this.props.style},o().createElement("span",{className:"toc-group-title",onClick:this.props.onSelect?function(t){return e.props.onSelect(e.props.node.id,"group",t.ctrlKey)}:function(){}},n),o().createElement(v,{onClick:function(){return e.props.onClick(e.props.node.id,t)},expanded:t,node:this.props.node}))}}])&&j(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);E(C,"propTypes",{node:l().object,onClick:l().func,onSelect:l().func,style:l().object,currentLocale:l().string,tooltip:l().bool,tooltipOptions:l().object}),E(C,"inheritedPropTypes",["node"]),E(C,"defaultProps",{onClick:function(){},onSelect:null,currentLocale:"en-US",style:{},tooltip:!1,tooltipOptions:{maxLength:807,separator:" - "}});const x=C;var k=r(893379),D=r.n(k),_=r(324064);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B(n.key),n)}}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function L(e,t,r){return(t=B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===N(t)?t:String(t)}D()(_.Z,{insert:"head",singleton:!1}),_.Z.locals;var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(l,e);var t,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Z(n);if(i){var r=Z(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){var e=this,t=[];if(this.props.children){var r=(this.props.node.nodes||[]).filter((function(t){return e.props.filter(t,e.props.node)})),n=0;t=r.map((function(t){return o().cloneElement(e.props.children,{node:t,parentNodeId:e.props.node?e.props.node.id:"",key:t.id,sortIndex:t.hide||t.dummy?n:n++,onSort:e.props.onSort,onError:e.props.onError,level:e.props.level,isDraggable:!!e.props.onSort,setDndState:e.props.setDndState})}))}return this.props.onSort,o().createElement("div",{className:"toc-group-children"},t)}}])&&R(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);L(M,"propTypes",{node:l().object,filter:l().func,onSort:l().func,onError:l().func,setDndState:l().func,level:l().number}),L(M,"inheritedPropTypes",["node","filter","onSort"]),L(M,"defaultProps",{node:null,filter:function(){return!0},onSort:null,level:1});const V=M;var H=r(314181),A=r(735913),G=["children","onToggle","connectDragPreview","connectDragSource","connectDropTarget"];function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U.apply(this,arguments)}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J(n.key),n)}}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function $(e,t,r){return(t=J(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===F(t)?t:String(t)}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(p,e);var t,r,n,c,l=(n=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=z(n);if(c){var r=z(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return $(q(e=l.call.apply(l,[this].concat(r))),"renderVisibility",(function(t){return e.props.groupVisibilityCheckbox&&!t?o().createElement(H.Z,{node:e.props.node,key:"visibility",tooltip:"toc.toggleGroupVisibility",checkType:e.props.visibilityCheckType,propertiesChangeHandler:e.props.propertiesChangeHandler}):o().createElement(A.Z,{key:"loadingerror",glyph:"exclamation-mark text-danger",tooltip:"toc.loadingerror",className:"toc-error"})})),e}return t=p,(r=[{key:"render",value:function(){var e=this,t=this.props,r=(t.children,t.onToggle,t.connectDragPreview),n=t.connectDragSource,c=t.connectDropTarget,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,G),p=this.props.selectedNodes.filter((function(t){return t===e.props.node.id})).length>0?" selected":"",u=this.props.node.loadingError?" group-error":"",a=l.isDraggable?o().createElement(A.Z,{key:"grabTool",tooltip:"toc.grabGroupIcon",className:"toc-grab",ref:"target",glyph:"menu-hamburger"}):o().createElement("span",{className:"toc-layer-tool toc-grab"}),s=o().createElement("div",{className:"toc-default-group-head"},a,this.renderVisibility(u),o().createElement(x,{tooltipOptions:this.props.tooltipOptions,tooltip:this.props.titleTooltip,node:this.props.node,currentLocale:this.props.currentLocale,onClick:this.props.onToggle,onSelect:this.props.onSelect})),f=o().createElement(V,{level:this.props.level+1,onSort:this.props.onSort,onError:this.props.onError,setDndState:this.props.setDndState,position:"collapsible"},this.props.children);return this.props.node.showComponent&&!this.props.node.hide?o().createElement(i.Z,U({className:(this.props.isDragging||this.props.node.placeholder?"is-placeholder ":"")+"toc-default-group toc-group-"+this.props.level+p+u,sortableStyle:this.props.sortableStyle,style:this.props.style,type:"group"},l),r(c(this.props.isDraggable?n(s):s)),this.props.isDragging||this.props.node.placeholder?null:f):null}}])&&K(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(o().Component);$(Q,"propTypes",{node:l().object,style:l().object,sortableStyle:l().object,onToggle:l().func,level:l().number,onSort:l().func,onError:l().func,propertiesChangeHandler:l().func,groupVisibilityCheckbox:l().bool,visibilityCheckType:l().string,currentLocale:l().string,selectedNodes:l().array,onSelect:l().func,titleTooltip:l().bool,tooltipOptions:l().object,setDndState:l().func,connectDragSource:l().func,connectDragPreview:l().func,connectDropTarget:l().func,isDraggable:l().bool,isDragging:l().bool,isOver:l().bool}),$(Q,"defaultProps",{node:{},onToggle:function(){},style:{marginBottom:"16px",cursor:"pointer"},sortableStyle:{},propertiesChangeHandler:function(){},groupVisibilityCheckbox:!1,visibilityCheckType:"glyph",level:1,currentLocale:"en-US",joinStr:" - ",selectedNodes:[],onSelect:function(){},titleTooltip:!1,connectDragPreview:function(e){return e},connectDragSource:function(e){return e},connectDropTarget:function(e){return e},isDraggable:!1,isDragging:!1,isOver:!1});const X=(0,p.Z)("LayerOrGroup",Q)},590690:(e,t,r)=>{"use strict";r.d(t,{Z:()=>pe});var n=r(124852),o=r.n(n),i=r(675263),c=r.n(i),l=r(188539),p=r(513218),u=r.n(p),a=r(984596),s=r.n(a),f=r(313311),y=r.n(f),d=r(757588),b=r(717378),h=r(314181),m=r(950966),g=r(359112),v=r(893379),O=r.n(v),w=r(161253);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function P(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function k(e,t,r){return(t=D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===j(t)?t:String(t)}O()(w.Z,{insert:"head",singleton:!1}),w.Z.locals;var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(l,e);var t,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(n);if(i){var r=x(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return k(C(e=c.call.apply(c,[this].concat(r))),"getFilteredTitle",(function(t){var r=t.toLowerCase().split(e.props.filterText.toLowerCase());return e.props.filterText?r.reduce((function(t,n,i){return i===r.length-1?[].concat(P(t),[n]):[].concat(P(t),[n,o().createElement("strong",{key:i},e.props.filterText.toLowerCase())])}),[]):t})),k(C(e),"renderTitle",(function(){var t=(0,g.BC)(e.props).title;return o().createElement("div",{className:"toc-title",onClick:e.props.onClick?function(t){return e.props.onClick(e.props.node.id,"layer",t.ctrlKey)}:function(){},onContextMenu:function(t){t.preventDefault(),e.props.onContextMenu(e.props.node)}},e.getFilteredTitle(t))})),e}return t=l,(r=[{key:"render",value:function(){var e=(0,g.BC)(this.props).tooltipText;return this.props.tooltip&&e?o().createElement(m.Z,{placement:this.props.node.tooltipPlacement||"top",overlay:o().createElement(d.Tooltip,{id:"tooltip-layer-title"},e)},this.renderTitle()):this.renderTitle()}}])&&E(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);k(_,"propTypes",{node:c().object,onClick:c().func,onContextMenu:c().func,currentLocale:c().string,filterText:c().string,tooltip:c().bool,tooltipOptions:c().object}),k(_,"defaultProps",{onClick:function(){},onContextMenu:function(){},currentLocale:"en-US",filterText:"",tooltip:!1,tooltipOptions:{maxLength:807,separator:" - "}});const N=_;var R=r(262770),I=r(735913),Z=r(497844),L=r(805346);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K(n.key),n)}}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function U(e,t,r){return(t=K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===B(t)?t:String(t)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(l,e);var t,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(n);if(i){var r=F(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return G(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return U(G(e=c.call.apply(c,[this].concat(r))),"onClick",(function(){var t=(e.props.node||{}).layerFilter;e.props.propertiesChangeHandler(e.props.node.id,{layerFilter:V(V({},t),{},{disabled:!t.disabled})})})),e}return t=l,(r=[{key:"render",value:function(){var e=(this.props.node||{}).layerFilter,t=(e||{}).disabled;return!!e&&o().createElement(m.Z,{placement:"bottom",overlay:o().createElement(d.Tooltip,{id:"toc-filter-icon"},o().createElement(L.Z,{msgId:t?"toc.filterIconDisabled":"toc.filterIconEnabled"}))},o().createElement(d.Glyphicon,{onClick:this.onClick,className:"toc-filter-icon ".concat(t?"disabled":""),glyph:"filter-layer"}))}}])&&H(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);U(W,"propTypes",{node:c().object,propertiesChangeHandler:c().func}),U(W,"inheritedPropTypes",["node"]),U(W,"defaultProps",{node:null,propertiesChangeHandler:function(){}});const q=W;var z=r(815135),$=r(993451),J=r(624262),Q=["children","propertiesChangeHandler","onToggle","connectDragSource","connectDropTarget"];function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y.apply(this,arguments)}function ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ie(n.key),n)}}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(e,t)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function oe(e,t,r){return(t=ie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===X(t)?t:String(t)}var ce=(0,$.Z)("tooltip")((0,z.Z)(d.Glyphicon)),le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(p,e);var t,r,n,i,c=(n=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ne(n);if(i){var r=ne(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===X(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return re(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return oe(re(e=c.call.apply(c,[this].concat(r))),"getTitle",(function(t){return(u()(t.title)?t.title[e.props.currentLocale]||t.title.default:t.title)||t.name})),oe(re(e),"getVisibilityMessage",(function(){var t;if(e.props.node.exclusiveMapType)return"3dtiles"===(null===(t=e.props.node)||void 0===t?void 0:t.type)&&"toc.notVisibleSwitchTo3D";var r=e.props.node.maxResolution||1/0;return e.props.resolution>=r?"toc.notVisibleZoomIn":"toc.notVisibleZoomOut"})),oe(re(e),"renderOpacitySlider",(function(t){var r;return e.props.activateOpacityTool&&"3dtiles"!==(null===(r=e.props.node)||void 0===r?void 0:r.type)?o().createElement(Z.Z,{opacity:e.props.node.opacity,disabled:!e.props.node.visibility,hideTooltip:t,onChange:function(t){return e.props.onUpdateNode(e.props.node.id,"layers",{opacity:t})}}):null})),oe(re(e),"renderCollapsible",(function(){return o().createElement("div",{key:"legend",position:"collapsible",className:"collapsible-toc"},o().createElement(d.Grid,{fluid:!0},e.props.showFullTitleOnExpand?o().createElement(d.Row,null,o().createElement(d.Col,{xs:12,className:"toc-full-title"},e.getTitle(e.props.node))):null,e.props.activateLegendTool?o().createElement(d.Row,null,o().createElement(d.Col,{xs:12},o().createElement(R.Z,Y({node:e.props.node,currentZoomLvl:e.props.currentZoomLvl,scales:e.props.scales,language:e.props.language},e.props.legendOptions)))):null),e.renderOpacitySlider(e.props.hideOpacityTooltip))})),oe(re(e),"renderVisibility",(function(){return"Error"===e.props.node.loadingError?o().createElement(I.Z,{key:"loadingerror",glyph:"exclamation-mark text-danger",tooltip:"toc.loadingerror",className:"toc-error"}):o().createElement(h.Z,{key:"visibilitycheck",tooltip:"Warning"===e.props.node.loadingError?"toc.toggleLayerVisibilityWarning":"toc.toggleLayerVisibility",node:e.props.node,checkType:e.props.visibilityCheckType,propertiesChangeHandler:e.props.propertiesChangeHandler})})),oe(re(e),"renderToolsLegend",(function(t){return"Error"===e.props.node.loadingError||t?null:o().createElement(I.Z,{node:e.props.node,tooltip:"toc.displayLegendAndTools",key:"toollegend",className:"toc-legend",ref:"target",glyph:"chevron-left",onClick:function(t){return e.props.onToggle(t.id,t.expanded)}})})),oe(re(e),"renderIndicators",(function(){return s()(e.props.indicators).map((function(t){return"dimension"===t.type&&y()(e.props.node&&e.props.node.dimensions||[],t.condition)?t.glyph&&o().createElement(ce,Y({key:t.key,glyph:t.glyph},t.props)):null}))})),oe(re(e),"renderNode",(function(t,r,n,i,c,p,u){var a="wms"===e.props.node.type&&!e.props.activateLegendTool&&!e.props.showFullTitleOnExpand||"wms"!==e.props.node.type&&!e.props.showFullTitleOnExpand,s=p?o().createElement("div",{style:{padding:0,height:10},className:"toc-default-layer-head"}):o().createElement("div",{className:"toc-default-layer-head"},t,e.renderVisibility(),o().createElement(q,{node:e.props.node,propertiesChangeHandler:e.props.propertiesChangeHandler}),o().createElement(N,{tooltipOptions:e.props.tooltipOptions,tooltip:e.props.titleTooltip,filterText:e.props.filterText,node:e.props.node,currentLocale:e.props.currentLocale,onClick:e.props.onSelect,onContextMenu:e.props.onContextMenu}),e.props.node.loading?o().createElement("div",{className:"toc-inline-loader"}):e.renderToolsLegend(a),!(0,J.T4)(e.props.node,e.props.resolution)||e.props.node.exclusiveMapType?o().createElement(ce,{glyph:"info-sign",tooltipId:e.getVisibilityMessage(),style:{float:"right"}}):null,e.props.indicators?e.renderIndicators():null);return o().createElement(l.Z,Y({className:(e.props.isDragging||e.props.node.placeholder?"is-placeholder ":"")+"toc-default-layer"+r+n+i+c,style:e.props.style,type:"layer"},u),u.isDraggable&&!p?e.props.connectDragPreview(s):s,p||!e.props.activateOpacityTool||e.props.node.expanded||!e.props.node.visibility||"Error"===e.props.node.loadingError?null:e.renderOpacitySlider(e.props.hideOpacityTooltip),p||a?null:e.renderCollapsible())})),oe(re(e),"filterLayers",(function(t){return-1!==((u()(t.title)?t.title[e.props.currentLocale]||t.title.default:t.title)||t.name).toLowerCase().indexOf(e.props.filterText.toLowerCase())})),e}return t=p,(r=[{key:"render",value:function(){var e=this,t=this.props,r=(t.children,t.propertiesChangeHandler,t.onToggle,t.connectDragSource),n=t.connectDropTarget,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,Q),c=!this.props.node.visibility||this.props.node.invalid||this.props.node.exclusiveMapType||!(0,J.T4)(this.props.node,this.props.resolution)?" visibility":"",l=this.props.selectedNodes.filter((function(t){return t===e.props.node.id})).length>0?" selected":"",p="Error"===this.props.node.loadingError?" layer-error":"",u="Warning"===this.props.node.loadingError?" layer-warning":"",a=i.isDraggable?o().createElement(I.Z,{key:"grabTool",tooltip:"toc.grabLayerIcon",className:"toc-grab",ref:"target",glyph:"menu-hamburger"}):o().createElement("span",{className:"toc-layer-tool toc-grab"}),s=!!this.props.node.dummy,f=!s&&this.filterLayers(this.props.node)?this.renderNode(a,c,l,p,u,s,i):null,y=o().createElement("div",{style:s?{opacity:0,boxShadow:"none"}:{},className:"toc-list-item"},!this.props.filterText||this.props.filterText&&s?this.renderNode(a,c,l,p,u,s,i):f);return!1!==i.node.showComponent&&!i.node.hide&&this.props.filter(this.props.node)?n(i.isDraggable&&!s?r(y):y):null}}])&&ee(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(o().Component);oe(le,"propTypes",{node:c().object,propertiesChangeHandler:c().func,onToggle:c().func,onContextMenu:c().func,onSelect:c().func,style:c().object,sortableStyle:c().object,activateLegendTool:c().bool,activateOpacityTool:c().bool,indicators:c().array,visibilityCheckType:c().string,currentZoomLvl:c().number,scales:c().array,additionalTools:c().array,legendOptions:c().object,currentLocale:c().string,selectedNodes:c().array,filterText:c().string,onUpdateNode:c().func,titleTooltip:c().bool,filter:c().func,showFullTitleOnExpand:c().bool,hideOpacityTooltip:c().bool,tooltipOptions:c().object,connectDragPreview:c().func,connectDragSource:c().func,connectDropTarget:c().func,isDraggable:c().bool,isDragging:c().bool,isOver:c().bool,language:c().string,resolution:c().number}),oe(le,"defaultProps",{style:{},sortableStyle:{},propertiesChangeHandler:function(){},onToggle:function(){},onContextMenu:function(){},onSelect:function(){},activateLegendTool:!1,activateOpacityTool:!0,indicators:[],visibilityCheckType:"glyph",additionalTools:[],currentLocale:"en-US",joinStr:" - ",selectedNodes:[],filterText:"",onUpdateNode:function(){},filter:function(){return!0},titleTooltip:!1,showFullTitleOnExpand:!1,hideOpacityTooltip:!1,connectDragPreview:function(e){return e},connectDragSource:function(e){return e},connectDropTarget:function(e){return e}});const pe=(0,b.Z)("LayerOrGroup",le)},229423:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(675263),o=r.n(n),i=r(124852),c=r.n(i),l=["groupElement","layerElement","node"];function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function d(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(n);if(o){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){var e=this.props,t=e.groupElement,r=e.layerElement,n=e.node,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,l);return n.nodes?c().cloneElement(t,a({node:n},o),c().createElement(u,{groupElement:t,layerElement:r})):c().cloneElement(r,a({node:n},o))}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(c().Component);d(h,"propTypes",{node:o().object,groupElement:o().element.isRequired,layerElement:o().element.isRequired});const m=h},188539:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(675263),o=r.n(n),i=r(124852),c=r.n(i),l=r(972555),p=r.n(l),u=r(727418),a=r.n(u),s=r(264317);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}const y=p()({displayName:"Node",propTypes:{node:o().object,style:o().object,styler:o().func,className:o().string,type:o().string,onSort:o().func,isDraggable:o().bool,animateCollapse:o().bool},getDefaultProps:function(){return{node:null,style:{},styler:function(){},className:"",type:"node",onSort:null,animateCollapse:!0}},renderChildren:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return c().Children.map(this.props.children,(function(r){if(t(r)){var n=(r.type.inheritedPropTypes||["node"]).reduce((function(t,r){return e.props[r]?a()(t,(n={},o=r,i=e.props[r],(o=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,n)):t;var n,o,i}),{});return c().cloneElement(r,n)}return null}))},render:function(){var e=void 0===this.props.node.expanded||this.props.node.expanded,t=this.props.type,r=a()({},this.props.style,this.props.styler(this.props.node)),n=e&&"Error"!==this.props.node.loadingError?this.renderChildren((function(e){return e&&"collapsible"===e.props.position})):[];return this.props.animateCollapse&&(n=c().createElement(s.CSSTransitionGroup,{transitionName:"TOC-Node",transitionEnterTimeout:250,transitionLeaveTimeout:250},n)),c().createElement("div",{key:this.props.node.name,className:(e?t+"-expanded":t+"-collapsed")+" "+this.props.className,style:this.props.node.dummy?{padding:0}:r},this.renderChildren((function(e){return e&&"collapsible"!==e.props.position})),n)}})},221338:(e,t,r)=>{"use strict";r.d(t,{Z:()=>N});var n=r(124852),o=r.n(n),i=r(675263),c=r.n(i),l=r(867076),p=r(701469),u=r.n(p),a=r(385564),s=r.n(a),f=["dndState","nodes"];function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function e(t,r,n){var o=t.findIndex((function(e){return e.id===r}));if(-1!==o){var i=t.slice();return n?i[o]=h(h({},i[o]),n):i.splice(o,1),i}return t.map((function(t){return h(h({},t),{},{nodes:t.nodes&&e(t.nodes,r,n)})}))},v=function e(t,r){var n=r.node,o=r.sortIndex,i=r.parentNodeId,c=r.newParentNodeId,l=r.illegalDrop;return t&&n?t.map((function(t){if(t.nodes&&t.id===c){var p=c===i?g(t.nodes,n.id,null):t.nodes.slice();return p.splice(o,0,h(h({},n),c===i?{}:{id:n.id+"__placeholder",placeholder:!0,hide:!!l})),h(h({},t),{},{nodes:p})}return h(h({},t),{},{nodes:e(t.nodes,r)})})):t},O=function e(t,r){var n=r.node,o=r.newParentNodeId,i=r.parentNodeId;return h(h({},t),{},{nodes:s()(t.nodes.map((function(c,l){return!c.nodes||c.placeholder||c.hide||n&&c.id===n.id?[c]:[e(c,r)].concat(t.nodes[l+1]&&(t.nodes[l+1].placeholder||n&&t.id===o&&o===i&&t.nodes[l+1].id===n.id)?[]:[{id:c.id+"__dummy",dummy:!0}])})))})};const w=(0,l.branch)((function(e){var t=e.nodes;return u()(t)}),(0,l.compose)((0,l.withState)("dndState","setDndState",{node:null,parentNodeId:"",newParentNodeId:"",sortIndex:0,illegalDrop:null}),(function(e){return function(t){var r=t.dndState,n=t.nodes,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,f),c=r.node,l=r.parentNodeId,p=r.newParentNodeId,u=r.illegalDrop,a=v([{id:"root",nodes:n}],r)[0],s=p!==l||u?g(a.nodes,c.id,{hide:!0}):a.nodes,y=O({id:"root",nodes:s},r);return o().createElement(e,d({},i,{nodes:y.nodes}))}})));var j=r(893379),P=r.n(j),S=r(199307);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function k(e,t,r){return(t=D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}P()(S.Z,{insert:"head",singleton:!1}),S.Z.locals;var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(l,e);var t,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(n);if(i){var r=x(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){var e=this,t=[],r=this.props.nodes.filter(this.props.filter);if(this.props.children){var n=0;t=r.map((function(t){return o().cloneElement(e.props.children,{node:t,parentNodeId:"root",onSort:e.props.onSort,onError:e.props.onError,sortIndex:t.hide||t.dummy?n:n++,key:t.name||t.id||"default",isDraggable:!(!e.props.onSort||t.nodes&&"Default"===t.name),setDndState:e.props.setDndState})}))}return this.props.onSort,o().createElement("div",{id:this.props.id,className:"mapstore-layers-container"},t)}}])&&T(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);k(_,"propTypes",{filter:c().func,nodes:c().array,id:c().string,onSort:c().func,onError:c().func,setDndState:c().func}),k(_,"defaultProps",{filter:function(){return!0},nodes:[],id:"mapstore-layers",onSort:null,setDndState:function(){}});const N=w(_)},717378:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(180307),o=r.n(n),i=r(590937),c=r(867076);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a={beginDrag:function(e){return e.setDndState&&e.setDndState({node:e.node,parentNodeId:e.parentNodeId,newParentNodeId:e.parentNodeId,sortIndex:e.sortIndex}),{node:e.node,parentNodeId:e.parentNodeId,newParentNodeId:e.parentNodeId,sortIndex:e.sortIndex}},endDrag:function(e,t){var r=t.getItem(),n=r.sortIndex,o=r.newParentNodeId,i=r.illegalDrop;e.setDndState&&e.setDndState({node:null,illegalDrop:null}),i?e.onError&&e.onError(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({title:"notification.warning",autoDismiss:5,position:"tc"},i)):e.onSort&&e.onSort(e.node.id,o,n)}},s=function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),draggedItem:t.getItem()}},f={hover:function(e,t,r){var n=t.getItem(),i=n.sortIndex,c=e.sortIndex;if(t.isOver({shallow:!0})){var l=o().findDOMNode(r),p=l.getElementsByClassName("toc-default-group-head")[0],u=p||l;if(u){var a=u.getBoundingClientRect(),s=t.getClientOffset().y-a.top;if(p){var f=(a.bottom-a.top)/3;if(e.isDragging||e.node&&e.node.placeholder)return;if(n.newParentNodeId===e.parentNodeId&&i<c&&s<f)return;if(n.newParentNodeId===e.parentNodeId&&i>c&&s>2*f)return;s<f?(n.sortIndex=e.sortIndex,n.newParentNodeId=e.parentNodeId,"Default"===e.node.name&&(n.illegalDrop={message:"toc.error.defaultGroupOnTop",values:{groupTitle:e.node.title}})):(n.sortIndex=0,n.newParentNodeId=e.node.id,n.illegalDrop=null)}else{var y=(a.bottom-a.top)/2;if(i===c&&n.newParentNodeId===e.parentNodeId)return;if(n.newParentNodeId===e.parentNodeId&&i<c&&s<y)return;if(n.newParentNodeId===e.parentNodeId&&i>c&&s>y)return;n.sortIndex=e.sortIndex,n.newParentNodeId=e.parentNodeId,n.illegalDrop=null}e.setDndState&&e.setDndState(n)}}}},y=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0})}};const d=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return(0,c.branch)((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isDraggable}),(0,c.compose)((0,i.Ej)(e,a,s),(0,i.GR)(e,f,y)),(0,c.compose)((0,i.GR)(e,f,y))).apply(void 0,r)}},735913:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(675263),o=r.n(n),i=r(124852),c=r.n(i),l=r(757588),p=r(950966),u=r(805346);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function d(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(d,e);var t,r,n,o,i=(n=d,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(n);if(o){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),i.apply(this,arguments)}return t=d,(r=[{key:"render",value:function(){var e=this,t=this.props.className?" "+this.props.className:"",r=c().createElement(l.Glyphicon,{className:"toc-layer-tool"+t,style:this.props.style,glyph:this.props.glyph,onClick:function(){return e.props.onClick(e.props.node)}});return this.props.tooltip?c().createElement(p.Z,{placement:"bottom",overlay:c().createElement(l.Tooltip,{id:"Tooltip-"+this.props.tooltip},c().createElement("strong",null,c().createElement(u.Z,{msgId:this.props.tooltip})))},r):r}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(c().Component);d(h,"propTypes",{node:o().object,onClick:o().func,style:o().object,glyph:o().string,tooltip:o().string,className:o().string}),d(h,"defaultProps",{onClick:function(){}});const m=h},497844:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(124852),o=r.n(n),i=r(675263),c=r.n(i),l=r(1036),p=r(414293),u=r.n(p),a=r(701469),s=r.n(a);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function h(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(p,e);var t,r,n,i,c=(n=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(i){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),c.apply(this,arguments)}return t=p,(r=[{key:"render",value:function(){var e=this;return o().createElement("div",{className:"mapstore-slider ".concat(this.props.hideTooltip?"":"with-tooltip"),onClick:function(e){e.stopPropagation()}},this.props.hideTooltip&&o().createElement(l.Z,{disabled:this.props.disabled,start:[u()(this.props.opacity)?100:Math.round(100*this.props.opacity)],range:{min:0,max:100},onChange:function(t){s()(t)&&t[0]&&e.props.onChange(parseFloat(t[0].replace(" %","")/100))}})||o().createElement(l.Z,{disabled:this.props.disabled,start:[u()(this.props.opacity)?100:Math.round(100*this.props.opacity)],tooltips:[!0],format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+" %"}},range:{min:0,max:100},onChange:function(t){return e.props.onChange(parseFloat(t[0].replace(" %",""))/100)}}))}}])&&y(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(o().Component);h(g,"propTypes",{opacity:c().number,disabled:c().bool,hideTooltip:c().bool,onChange:c().func}),h(g,"defaultProps",{opacity:1,onChange:function(){},visibility:!0});const v=g},314181:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(124852),o=r.n(n),i=r(675263),c=r.n(i),l=r(623560),p=r.n(l),u=r(735913);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function b(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(l,e);var t,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(n);if(i){var r=d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(y(e=c.call.apply(c,[this].concat(r))),"changeVisibility",(function(){e.props.propertiesChangeHandler(e.props.node.id,{visibility:!e.props.node.visibility})})),e}return t=l,(r=[{key:"render",value:function(){return"glyph"===this.props.checkType?o().createElement(u.Z,{tooltip:this.props.tooltip,style:this.props.style,className:"visibility-check"+(this.props.node.visibility?" checked":""),"data-position":this.props.node.storeIndex,glyph:this.props.node.visibility?this.props.glyphChecked:this.props.glyphUnchecked,onClick:this.changeVisibility}):o().createElement("input",{className:"visibility-check",style:this.props.style,"data-position":this.props.node.storeIndex,type:p()(this.props.checkType)?this.props.checkType(this.props.node):this.props.checkType,checked:this.props.node.visibility?"checked":"",onChange:this.changeVisibility})}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);b(m,"propTypes",{node:c().object,tooltip:c().string,propertiesChangeHandler:c().func,style:c().object,checkType:c().oneOfType([c().string,c().func]),glyphChecked:c().string,glyphUnchecked:c().string}),b(m,"defaultProps",{style:{},checkType:"glyph",glyphChecked:"eye-open",tooltip:"toc.toggleLayerVisibility",glyphUnchecked:"eye-close"});const g=m},199307:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"",""]);const i=o},324064:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".msgapi .toc-group-children {\n    margin-left: 15px;\n}\n\n.msgapi .TOC-Node-enter, .msgapi .TOC-Node-leave {\n    transition: all 250ms ease-out;\n    -o-transition: all 250ms ease-out;\n    -moz-transition: all 250ms ease-out;\n    -webkit-transition: all 250ms ease-out;\n    overflow: hidden;\n}\n.msgapi .TOC-Node-enter,.msgapi .TOC-Node-leave.TOC-Node-leave-active {\n    opacity: 0;\n    transform: scale(1, 0);\n    transform-origin: top;\n}\n.msgapi .TOC-Node-leave, .msgapi .TOC-Node-enter.TOC-Node-enter-active {\n    opacity: 1;\n    transform: scale(1, 1);\n    transform-origin: top;\n}\n",""]);const i=o},161253:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".msgapi .toc-title {\n    display: inline-block;\n    max-width: 150px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n",""]);const i=o}}]);